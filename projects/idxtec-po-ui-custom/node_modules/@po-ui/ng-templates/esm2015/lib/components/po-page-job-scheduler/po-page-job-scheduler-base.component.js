import { Input, Directive } from '@angular/core';
import { PoPageJobSchedulerInternal } from './po-page-job-scheduler-internal';
import { PoPageJobSchedulerService } from './po-page-job-scheduler.service';
import { Subscription } from 'rxjs';
/**
 * @description
 *
 * O `po-page-job-scheduler` é uma página para criação e atualização de agendamentos da execução de processos (Job Scheduler),
 * como por exemplo: a geração da folha de pagamento dos funcionários.
 *
 * Para utilizar esta página, basta informar o serviço (endpoint) para consumo,
 * sem a necessidade de criar componentes e tratamentos dos dados.
 *
 * Veja mais sobre os padrões utilizados nas requisições no [Guia de implementação de APIs](guides/api).
 */
export class PoPageJobSchedulerBaseComponent {
    constructor(poPageJobSchedulerService) {
        this.poPageJobSchedulerService = poPageJobSchedulerService;
        /** Objeto com as propriedades do breadcrumb. */
        this.breadcrumb = { items: [] };
        /**
         * Parâmetros que serão utilizados para criação e edição dos agendamentos.
         *
         * Ao utilizar esta propriedade, o componente não buscará automaticamente os parâmetros da API e o campo para preenchimento do processo não será exibido.
         *
         */
        this.parameters = [];
        this.model = new PoPageJobSchedulerInternal();
        this._subscription = new Subscription();
    }
    set value(value) {
        this.model = this.poPageJobSchedulerService.convertToJobSchedulerInternal(value);
    }
    ngOnDestroy() {
        this._subscription.unsubscribe();
    }
    loadData(id) {
        if (!id) {
            this.model = this.model || new PoPageJobSchedulerInternal();
            return;
        }
        this._subscription.add(this.poPageJobSchedulerService.getResource(id).subscribe((response) => {
            this.model = response;
        }, () => {
            this.model = new PoPageJobSchedulerInternal();
        }));
    }
    markAsDirtyInvalidControls(controls) {
        for (const key in controls) {
            if (controls.hasOwnProperty(key)) {
                const control = controls[key];
                if (control.invalid) {
                    control.markAsDirty();
                }
            }
        }
    }
}
PoPageJobSchedulerBaseComponent.decorators = [
    { type: Directive }
];
PoPageJobSchedulerBaseComponent.ctorParameters = () => [
    { type: PoPageJobSchedulerService }
];
PoPageJobSchedulerBaseComponent.propDecorators = {
    breadcrumb: [{ type: Input, args: ['p-breadcrumb',] }],
    serviceApi: [{ type: Input, args: ['p-service-api',] }],
    title: [{ type: Input, args: ['p-title',] }],
    parameters: [{ type: Input, args: ['p-parameters',] }],
    value: [{ type: Input, args: ['p-value',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1qb2Itc2NoZWR1bGVyLWJhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGVtcGxhdGVzL3NyYy9saWIvY29tcG9uZW50cy9wby1wYWdlLWpvYi1zY2hlZHVsZXIvcG8tcGFnZS1qb2Itc2NoZWR1bGVyLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFhLE1BQU0sZUFBZSxDQUFDO0FBSzVELE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBQzlFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBQzVFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFcEM7Ozs7Ozs7Ozs7R0FVRztBQUVILE1BQU0sT0FBTywrQkFBK0I7SUE4SjFDLFlBQXNCLHlCQUFvRDtRQUFwRCw4QkFBeUIsR0FBekIseUJBQXlCLENBQTJCO1FBN0oxRSxnREFBZ0Q7UUFDekIsZUFBVSxHQUFrQixFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FBQztRQTRJakU7Ozs7O1dBS0c7UUFDb0IsZUFBVSxHQUE4QixFQUFFLENBQUM7UUFNbEUsVUFBSyxHQUEyQixJQUFJLDBCQUEwQixFQUFFLENBQUM7UUFFekQsa0JBQWEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO0lBRWtDLENBQUM7SUFSOUUsSUFBc0IsS0FBSyxDQUFDLEtBQVU7UUFDcEMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMseUJBQXlCLENBQUMsNkJBQTZCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkYsQ0FBQztJQVFELFdBQVc7UUFDVCxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFFUyxRQUFRLENBQUMsRUFBbUI7UUFDcEMsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNQLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLDBCQUEwQixFQUFFLENBQUM7WUFDNUQsT0FBTztTQUNSO1FBRUQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQ3BCLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUN0RCxDQUFDLFFBQWdDLEVBQUUsRUFBRTtZQUNuQyxJQUFJLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQztRQUN4QixDQUFDLEVBQ0QsR0FBRyxFQUFFO1lBQ0gsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLDBCQUEwQixFQUFFLENBQUM7UUFDaEQsQ0FBQyxDQUNGLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFUywwQkFBMEIsQ0FBQyxRQUE0QztRQUMvRSxLQUFLLE1BQU0sR0FBRyxJQUFJLFFBQVEsRUFBRTtZQUMxQixJQUFJLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ2hDLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFFOUIsSUFBSSxPQUFPLENBQUMsT0FBTyxFQUFFO29CQUNuQixPQUFPLENBQUMsV0FBVyxFQUFFLENBQUM7aUJBQ3ZCO2FBQ0Y7U0FDRjtJQUNILENBQUM7OztZQWpNRixTQUFTOzs7WUFkRCx5QkFBeUI7Ozt5QkFpQi9CLEtBQUssU0FBQyxjQUFjO3lCQXVJcEIsS0FBSyxTQUFDLGVBQWU7b0JBR3JCLEtBQUssU0FBQyxTQUFTO3lCQVFmLEtBQUssU0FBQyxjQUFjO29CQUVwQixLQUFLLFNBQUMsU0FBUyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFic3RyYWN0Q29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IElucHV0LCBEaXJlY3RpdmUsIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBQb0JyZWFkY3J1bWIsIFBvRHluYW1pY0Zvcm1GaWVsZCB9IGZyb20gJ0Bwby11aS9uZy1jb21wb25lbnRzJztcblxuaW1wb3J0IHsgUG9Kb2JTY2hlZHVsZXJJbnRlcm5hbCB9IGZyb20gJy4vaW50ZXJmYWNlcy9wby1qb2Itc2NoZWR1bGVyLWludGVybmFsLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQb1BhZ2VKb2JTY2hlZHVsZXJJbnRlcm5hbCB9IGZyb20gJy4vcG8tcGFnZS1qb2Itc2NoZWR1bGVyLWludGVybmFsJztcbmltcG9ydCB7IFBvUGFnZUpvYlNjaGVkdWxlclNlcnZpY2UgfSBmcm9tICcuL3BvLXBhZ2Utam9iLXNjaGVkdWxlci5zZXJ2aWNlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE8gYHBvLXBhZ2Utam9iLXNjaGVkdWxlcmAgw6kgdW1hIHDDoWdpbmEgcGFyYSBjcmlhw6fDo28gZSBhdHVhbGl6YcOnw6NvIGRlIGFnZW5kYW1lbnRvcyBkYSBleGVjdcOnw6NvIGRlIHByb2Nlc3NvcyAoSm9iIFNjaGVkdWxlciksXG4gKiBjb21vIHBvciBleGVtcGxvOiBhIGdlcmHDp8OjbyBkYSBmb2xoYSBkZSBwYWdhbWVudG8gZG9zIGZ1bmNpb27DoXJpb3MuXG4gKlxuICogUGFyYSB1dGlsaXphciBlc3RhIHDDoWdpbmEsIGJhc3RhIGluZm9ybWFyIG8gc2VydmnDp28gKGVuZHBvaW50KSBwYXJhIGNvbnN1bW8sXG4gKiBzZW0gYSBuZWNlc3NpZGFkZSBkZSBjcmlhciBjb21wb25lbnRlcyBlIHRyYXRhbWVudG9zIGRvcyBkYWRvcy5cbiAqXG4gKiBWZWphIG1haXMgc29icmUgb3MgcGFkcsO1ZXMgdXRpbGl6YWRvcyBuYXMgcmVxdWlzacOnw7VlcyBubyBbR3VpYSBkZSBpbXBsZW1lbnRhw6fDo28gZGUgQVBJc10oZ3VpZGVzL2FwaSkuXG4gKi9cbkBEaXJlY3RpdmUoKVxuZXhwb3J0IGNsYXNzIFBvUGFnZUpvYlNjaGVkdWxlckJhc2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkRlc3Ryb3kge1xuICAvKiogT2JqZXRvIGNvbSBhcyBwcm9wcmllZGFkZXMgZG8gYnJlYWRjcnVtYi4gKi9cbiAgQElucHV0KCdwLWJyZWFkY3J1bWInKSBicmVhZGNydW1iPzogUG9CcmVhZGNydW1iID0geyBpdGVtczogW10gfTtcblxuICAvKipcbiAgICogRW5kcG9pbnQgdXNhZG8gcGVsbyBjb21wb25lbnRlIHBhcmEgYnVzY2EgZG9zIHByb2Nlc3NvcyBlIHBhcsOibWV0cm9zIHF1ZSBzZXLDo28gdXRpbGl6YWRvcyBwYXJhIGNyaWHDp8OjbyBlIGVkacOnw6NvIGRvcyBhZ2VuZGFtZW50b3MuXG4gICAqXG4gICAqICMjIyMgUHJvY2Vzc29zXG4gICAqXG4gICAqIE9zIHByb2Nlc3NvcyBzw6NvIGFzIHRhcmVmYXMgcXVlIGVzdGFyw6NvIGRpc3BvbsOtdmVpcyBwYXJhIG8gdXN1w6FyaW8gcG9kZXIgZmF6ZXIgb3MgYWdlbmRhbWVudG9zLlxuICAgKiBBbyBpbmljaWFsaXphciBvIGNvbXBvbmVudGUsIHNlcsOhIGZlaXRvIHVtYSByZXF1aXNpw6fDo28gYEdFVGAgcGFyYSBvIGVuZHBvaW50IGB7c2VydmljZS1hcGl9L3Byb2Nlc3Nlc2AsIHBhcmEgYnVzY2FyXG4gICAqIGVzc2EgbGlzdGEgZGUgcHJvY2Vzc29zLlxuICAgKlxuICAgKiBFc3RlIGVuZHBvaW50IGB7c2VydmljZS1hcGl9L3Byb2Nlc3Nlc2AgZGV2ZSByZXRvcm5hciB1bWEgbGlzdGEgZGUgb2JqZXRvcyBxdWUgc2VndWVtIGEgZGVmaW5pw6fDo28gZGUgZGFkb3MgYWJhaXhvOlxuICAgKlxuICAgKiBgYGBcbiAgICogR0VUIHtzZXJ2aWNlLWFwaX0vcHJvY2Vzc2VzXG4gICAqIGBgYFxuICAgKlxuICAgKiBgYGBcbiAgICoge1xuICAgKiAgIGl0ZW1zOiBbXG4gICAqICAgICB7IFwicHJvY2Vzc0lEXCI6IFwiYWM0ZlwiLCBcImRlc2NyaXB0aW9uXCI6IFwiR2VyYXIgZm9saGEgZGUgcGFnYW1lbnRvXCIgfSxcbiAgICogICAgIHsgXCJwcm9jZXNzSURcIjogXCJkZjZsXCIsIFwiZGVzY3JpcHRpb25cIjogXCJSZWxhdMOzcmlvIGRlIGltcG9zdG8gYSByZWNvbGhlclwiIH0sXG4gICAqICAgICB7IFwicHJvY2Vzc0lEXCI6IFwiZGszcFwiLCBcImRlc2NyaXB0aW9uXCI6IFwiVMOtdHVsb3MgZW0gYWJlcnRvXCIgfSxcbiAgICogICBdXG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIERlc3RhIGZvcm1hIHNlcsOhIHJlbmRlcml6YWRvIHVtIGNvbXBvbmVudGUgcGFyYSBzZWxlY2lvbmFyIG8gcHJvY2Vzc28gZS9vdSBmaWx0csOhLWxvcy5cbiAgICpcbiAgICogUGFyYSByZWFsaXphciBvIGZpbHRybyBkZSBidXNjYSBkbyBwcm9jZXNzbywgc2Vyw6EgZmVpdGEgdW1hIHJlcXVpc2nDp8OjbyBlbnZpYW5kbyBvIGNvbnRlw7pkbyBkaWdpdGFkbyBuYSBidXNjYSBhdHJhdsOpcyBkb1xuICAgKiBwYXLDom1ldHJvIGBzZWFyY2hgLiBEYSBzZWd1aW50ZSBmb3JtYTpcbiAgICpcbiAgICogYGBgXG4gICAqIEdFVCB7c2VydmljZS1hcGl9L3Byb2Nlc3Nlcz9zZWFyY2g9cmVsYXRvcmlvXG4gICAqIGBgYFxuICAgKlxuICAgKiA+IFZlamEgbWFpcyBzb2JyZSBwYWdpbmHDp8OjbyBlIGZpbHRyb3Mgbm8gW0d1aWEgZGUgaW1wbGVtZW50YcOnw6NvIGRlIEFQSXNdKGd1aWRlcy9hcGkpLlxuICAgKiBDYXNvIHNlamEgaW5mb3JtYWRhIGEgcHJvcHJpZWRhZGUgYHAtcGFyYW1ldGVyc2AgbsOjbyBzZXLDo28gcmVhbGl6YWRhcyBhcyByZXF1aXNpw6fDtWVzIGRlIHByb2Nlc3NvcyBlIG5lbSBkZSBwYXJhbWV0cm9zIGF1dG9tYXRpY2FtZW50ZS5cbiAgICpcbiAgICogVGFtYsOpbSDDqSBwb3Nzw612ZWwgZmF6ZXIgdW0gYWdlbmRhbWVudG8gZGUgdW0gcHJvY2Vzc28gZXNwZWPDrWZpY28sIHNlbSBxdWUgc2VqYSBuZWNlc3PDoXJpbyB1bSBlbmRwb2ludCBwYXJhIGJ1c2NhIGRlc3Nlc1xuICAgKiBwcm9jZXNzb3MuIEVudMOjbywgY2FzbyBvIGVuZHBvaW50IGB7c2VydmljZS1hcGl9L3Byb2Nlc3Nlc2AgbsOjbyBzZWphIHbDoWxpZG8sIHNlcsOhIGFwcmVzZW50YWRvIHVtIGNhbXBvIGRlIGVudHJhZGEgZGVcbiAgICogdGV4dG8gcGFyYSBvIHVzdcOhcmlvIGluZm9ybWFyIGRpcmV0YW1lbnRlXG4gICAqIG8gKippZGVudGlmaWNhZG9yIGRvIHByb2Nlc3NvIC0gYHByb2Nlc3NJRGAqKiBlIGFvIHNhbHZhciBzZXLDoSBlbnZpYWRvIHVtIGBQT1NUYCBwYXJhIG8gZW5kcG9pbnQgZGlmaW5pZG8gYHNlcnZpY2VBcGlgIGNvbmZvcm1lIGFiYWl4bzpcbiAgICpcbiAgICogYGBgXG4gICAqIFBPU1Qge3NlcnZpY2UtYXBpfVxuICAgKiBgYGBcbiAgICpcbiAgICogKlJlcXVlc3QgcGF5bG9hZCogLSBlc3RydXR1cmEgZGUgZGFkb3MgZW52aWFkYSBubyBjb3JwbyBkYSByZXF1aXNpw6fDo28gY29uZm9ybWUgaW50ZXJmYWNlIGBQb0pvYlNjaGVkdWxlcmA6XG4gICAqXG4gICAqIGBgYFxuICAgKiB7XG4gICAqICAgXCJkYWlseVwiOiB7IFwiaG91clwiOiAxMCwgXCJtaW51dGVcIjogMTIgfSxcbiAgICogICBcImZpcnN0RXhlY3V0aW9uXCI6IFwiMjAxOC0xMi0wN1QwMDowMDowMS0wMDowMFwiLFxuICAgKiAgIFwicmVjdXJyZW50XCI6IHRydWUsXG4gICAqICAgXCJwcm9jZXNzSURcIjogXCJhYzA0MDVcIlxuICAgKiAgIC4uLlxuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBDYXNvIHNlamEgbmVjZXNzw6FyaW8gaW5mb3JtYXIgcGFyw6JtZXRyb3MgZSBhZGljaW9uYXIgY29uZmlndXJhw6fDtWVzIG5vIHByb2Nlc3NvIHNlbGVjaW9uYWRvLCBzZXLDoSByZWFsaXphZG8gdW0gYEdFVGBcbiAgICogY29tbyBleGVtcGxpZmljYWRvIGFiYWl4by4gT3MgcGFyw6JtZXRyb3MgZGV2ZW0gcmV0b3JuYXIgdW1hIGxpc3RhIGRlIG9iamV0b3MgcXVlIHNlZ3VlbSBhIGludGVyZmFjZVxuICAgKiBbUG9EeW5hbWljRm9ybUZpZWxkXSgvZG9jdW1lbnRhdGlvbi9wby1keW5hbWljLWZvcm0pLiBQb3LDqW0sIGNhc28gdXRpbGl6YXIgYSBwcm9wcmllZGFkZSBgcC1wYXJhbWV0ZXJzYCBvIGNvbXBvbmVudGUgbsOjb1xuICAgKiByZWFsaXphcsOhIGEgYnVzY2EgYXV0b23DoXRpY2EgZSBvIGNhbXBvIGRlIHByb2Nlc3NvcyBuw6NvIHNlcsOhIGV4aWJpZG8uXG4gICAqXG4gICAqIGBgYFxuICAgKiBHRVQge3NlcnZpY2UtYXBpfS9wcm9jZXNzZXMvOmlkL3BhcmFtZXRlcnNcbiAgICogLi4uXG4gICAqIHtcbiAgICogICBpdGVtczogW1xuICAgKiAgICAgeyBcInByb3BlcnR5XCI6IFwidmVuY2ltZW50b1wiLCB0eXBlOiBcImRhdGVcIiB9LFxuICAgKiAgICAgeyBcInByb3BlcnR5XCI6IFwiaW1wb3N0by1yZXRpZG9cIiwgXCJsYWJlbFwiOiBcIkltcG9zdG8gUmV0aWRvXCIsIHR5cGU6IFwiYm9vbGVhblwiIH1cbiAgICogICBdXG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqICMjIyMgU2FsdmFyIGUgQXR1YWxpemFyXG4gICAqXG4gICAqIFBhcmEgc2FsdmFyIG8gYWdlbmRhbWVudG8sIHNlcsOhIGZlaXRhIHVtYSByZXF1aXNpw6fDo28gZGUgY3JpYcOnw6NvLCBwYXNzYW5kbyBvcyB2YWxvcmVzIHByZWVuY2hpZG9zIHBlbG8gdXN1w6FyaW8gdmlhICpwYXlsb2FkKi5cbiAgICogQWJhaXhvIHVtYSByZXF1aXNpw6fDo28gYFBPU1RgIGRpc3BhcmFkYSwgb25kZSBhcyBwcm9wcmllZGFkZXMgZG8gKkpvYiBTY2hlZHVsZXIqIGZvcmFtIHByZWVuY2hpZGFzOlxuICAgKlxuICAgKiBgYGBcbiAgICogIFBPU1Qge3NlcnZpY2UtYXBpfVxuICAgKiBgYGBcbiAgICpcbiAgICogKlJlcXVlc3QgcGF5bG9hZCogLSBlc3RydXR1cmEgZGUgZGFkb3MgZW52aWFkYSBubyBjb3JwbyBkYSByZXF1aXNpw6fDo28gY29uZm9ybWUgaW50ZXJmYWNlIGBQb0pvYlNjaGVkdWxlcmA6XG4gICAqXG4gICAqIGBgYFxuICAgKiB7XG4gICAqICAgXCJmaXJzdEV4ZWN1dGlvblwiOiBcIjIwMTgtMTItMDdUMDA6MDA6MDEtMDA6MDBcIixcbiAgICogICBcInJlY3VycmVudFwiOiB0cnVlLFxuICAgKiAgIFwibW9udGhseVwiOiB7IFwiZGF5XCI6IDEsIFwiaG91clwiOiAxMCwgXCJtaW51dGVcIjogMCB9LFxuICAgKiAgIFwicHJvY2Vzc0lEXCI6IFwiYWMwNDA1XCIsXG4gICAqICAgXCJyYW5nZUV4ZWN1dGlvbnM6IHsgXCJmcmVxdWVuY3lcIjogeyBcInR5cGVcIjogXCJob3VyXCIsIFwidmFsdWVcIjogMiB9LCBcInJhbmdlTGltaXRcIjogeyBcImhvdXJcIjogMTgsIFwibWludXRlXCI6IDAsIFwiZGF5XCI6IDIwIH0gfVxuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBDYXNvIHF1ZWlyYSBxdWUgbyBjb21wb25lbnRlIGNhcnJlZ3VlIHVtIGFnZW5kYW1lbnRvIGrDoSBleGlzdGVudGUsIGRldmUgc2VyIGluY2x1w61kbyB1bSBwYXLDom1ldHJvIG5hIHJvdGEgY2hhbWFkbyBgaWRgLlxuICAgKlxuICAgKiBFeGVtcGxvIGRlIGNvbmZpZ3VyYcOnw6NvIGRlIHJvdGE6XG4gICAqXG4gICAqIGBgYFxuICAgKiAgUm91dGVyTW9kdWxlLmZvclJvb3QoW1xuICAgKiAgICAuLi5cbiAgICogICAgeyBwYXRoOiAnZWRpdC86aWQnLCBjb21wb25lbnQ6IEV4YW1wbGVKb2JTY2hlZHVsZXJDb21wb25lbnQgfSxcbiAgICogICAgLi4uXG4gICAqICBdLFxuICAgKiBgYGBcbiAgICpcbiAgICogQmFzZWFkbyBuaXNzbywgbmEgaW5pY2lhbGl6YcOnw6NvIGRvIHRlbXBsYXRlIHNlcsOhIGRpc3BhcmFkbyB1bWEgcmVxdWlzacOnw6NvIHBhcmEgYnVzY2FyIG8gcmVjdXJzbyBxdWUgc2Vyw6EgZWRpdGFkby5cbiAgICpcbiAgICogYGBgXG4gICAqIEdFVCB7c2VydmljZS1hcGl9L3tpZH1cbiAgICogYGBgXG4gICAqXG4gICAqIEFvIGF0dWFsaXphciBvIGFnZW5kYW1lbnRvLCBzZXLDoSBkaXNwYXJhZG8gdW0gYFBVVGAgY29tIG9zIGRhZG9zIHByZWVuY2hpZG9zLlxuICAgKiBWZWphIGFiYWl4byB1bWEgcmVxdWlzacOnw6NvIGBQVVRgIGRpc3BhcmFkYSwgb25kZSBhIHByb3ByaWVkYWRlICpyZWN1cnJlbnQqIGUgKmRhaWx5KiBmb3JhbSBhdHVhbGl6YWRhczpcbiAgICpcbiAgICogYGBgXG4gICAqICBQVVQge3NlcnZpY2UtYXBpfS97aWR9XG4gICAqIGBgYFxuICAgKlxuICAgKiAqUmVxdWVzdCBwYXlsb2FkKiAtIGVzdHJ1dHVyYSBkZSBkYWRvcyBlbnZpYWRhIG5vIGNvcnBvIGRhIHJlcXVpc2nDp8OjbyBjb25mb3JtZSBpbnRlcmZhY2UgYFBvSm9iU2NoZWR1bGVyYDpcbiAgICpcbiAgICogYGBgXG4gICAqIHtcbiAgICogICBcImZpcnN0RXhlY3V0aW9uXCI6IFwiMjAxOC0xMi0wN1QwMDowMDowMS0wMDowMFwiLFxuICAgKiAgIFwicmVjdXJyZW50XCI6IHRydWUsXG4gICAqICAgXCJwcm9jZXNzSURcIjogXCJhYzA0MDVcIixcbiAgICogICBcIm1vbnRobHlcIjogeyBcImRheVwiOiAxLCBcImhvdXJcIjogMTAsIFwibWludXRlXCI6IDAgfSxcbiAgICogICBcInByb2Nlc3NJRFwiOiBcImFjMDQwNVwiLFxuICAgKiAgIFwicmFuZ2VFeGVjdXRpb25zOiB7IFwiZnJlcXVlbmN5XCI6IHsgXCJ0eXBlXCI6IFwiaG91clwiLCBcInZhbHVlXCI6IDIgfSwgXCJyYW5nZUxpbWl0XCI6IHsgXCJob3VyXCI6IDE4LCBcIm1pbnV0ZVwiOiAwLCBcImRheVwiOiAyMCB9IH1cbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIEBJbnB1dCgncC1zZXJ2aWNlLWFwaScpIHNlcnZpY2VBcGk6IHN0cmluZztcblxuICAvKiogVMOtdHVsbyBkYSBww6FnaW5hLiAqL1xuICBASW5wdXQoJ3AtdGl0bGUnKSB0aXRsZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBQYXLDom1ldHJvcyBxdWUgc2Vyw6NvIHV0aWxpemFkb3MgcGFyYSBjcmlhw6fDo28gZSBlZGnDp8OjbyBkb3MgYWdlbmRhbWVudG9zLlxuICAgKlxuICAgKiBBbyB1dGlsaXphciBlc3RhIHByb3ByaWVkYWRlLCBvIGNvbXBvbmVudGUgbsOjbyBidXNjYXLDoSBhdXRvbWF0aWNhbWVudGUgb3MgcGFyw6JtZXRyb3MgZGEgQVBJIGUgbyBjYW1wbyBwYXJhIHByZWVuY2hpbWVudG8gZG8gcHJvY2Vzc28gbsOjbyBzZXLDoSBleGliaWRvLlxuICAgKlxuICAgKi9cbiAgQElucHV0KCdwLXBhcmFtZXRlcnMnKSBwYXJhbWV0ZXJzOiBBcnJheTxQb0R5bmFtaWNGb3JtRmllbGQ+ID0gW107XG5cbiAgQElucHV0KCdwLXZhbHVlJykgc2V0IHZhbHVlKHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLm1vZGVsID0gdGhpcy5wb1BhZ2VKb2JTY2hlZHVsZXJTZXJ2aWNlLmNvbnZlcnRUb0pvYlNjaGVkdWxlckludGVybmFsKHZhbHVlKTtcbiAgfVxuXG4gIG1vZGVsOiBQb0pvYlNjaGVkdWxlckludGVybmFsID0gbmV3IFBvUGFnZUpvYlNjaGVkdWxlckludGVybmFsKCk7XG5cbiAgcHJpdmF0ZSBfc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBwb1BhZ2VKb2JTY2hlZHVsZXJTZXJ2aWNlOiBQb1BhZ2VKb2JTY2hlZHVsZXJTZXJ2aWNlKSB7fVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGxvYWREYXRhKGlkOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICB0aGlzLm1vZGVsID0gdGhpcy5tb2RlbCB8fCBuZXcgUG9QYWdlSm9iU2NoZWR1bGVySW50ZXJuYWwoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zdWJzY3JpcHRpb24uYWRkKFxuICAgICAgdGhpcy5wb1BhZ2VKb2JTY2hlZHVsZXJTZXJ2aWNlLmdldFJlc291cmNlKGlkKS5zdWJzY3JpYmUoXG4gICAgICAgIChyZXNwb25zZTogUG9Kb2JTY2hlZHVsZXJJbnRlcm5hbCkgPT4ge1xuICAgICAgICAgIHRoaXMubW9kZWwgPSByZXNwb25zZTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHRoaXMubW9kZWwgPSBuZXcgUG9QYWdlSm9iU2NoZWR1bGVySW50ZXJuYWwoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBwcm90ZWN0ZWQgbWFya0FzRGlydHlJbnZhbGlkQ29udHJvbHMoY29udHJvbHM6IHsgW2tleTogc3RyaW5nXTogQWJzdHJhY3RDb250cm9sIH0pIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjb250cm9scykge1xuICAgICAgaWYgKGNvbnRyb2xzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgY29uc3QgY29udHJvbCA9IGNvbnRyb2xzW2tleV07XG5cbiAgICAgICAgaWYgKGNvbnRyb2wuaW52YWxpZCkge1xuICAgICAgICAgIGNvbnRyb2wubWFya0FzRGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19