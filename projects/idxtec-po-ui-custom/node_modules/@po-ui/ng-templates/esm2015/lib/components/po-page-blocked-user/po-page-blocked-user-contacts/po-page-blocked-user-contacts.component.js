import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, ViewChild } from '@angular/core';
const poPageBlockedUserContactItemMargin = 16;
export class PoPageBlockedUserContactsComponent {
    constructor(changeDetector) {
        this.changeDetector = changeDetector;
        this.overflowItem = true;
    }
    set email(value) {
        this._email = value;
        this.checkContactItemWidth();
    }
    get email() {
        return this._email;
    }
    set phone(value) {
        this._phone = value;
        this.checkContactItemWidth();
    }
    get phone() {
        return this._phone;
    }
    checkContactItemWidth() {
        this.overflowItem = true;
        if (this.phone && this.email) {
            this.changeDetector.detectChanges();
            const phoneWidth = this.phoneItem.nativeElement.offsetWidth;
            const mailWidth = this.mailItem.nativeElement.offsetWidth;
            const contactGroupHalfWidth = this.contactGroup.nativeElement.offsetWidth / 2 - poPageBlockedUserContactItemMargin;
            this.overflowItem =
                phoneWidth > contactGroupHalfWidth || mailWidth > contactGroupHalfWidth - poPageBlockedUserContactItemMargin;
        }
    }
}
PoPageBlockedUserContactsComponent.decorators = [
    { type: Component, args: [{
                selector: 'po-page-blocked-user-contacts',
                template: "<div #contactGroup class=\"po-page-blocked-user-contact-group po-row po-mb-3\">\n  <div\n    class=\"po-page-blocked-user-contact-item\"\n    [class.po-invisible]=\"!phone\"\n    [ngClass]=\"overflowItem ? 'po-md-12' : 'po-md-6'\"\n  >\n    <a\n      class=\"po-page-blocked-user-link po-clickable\"\n      [class.po-page-blocked-user-contact-content-inline]=\"overflowItem\"\n      href=\"tel:{{ phone }}\"\n      target=\"_self\"\n    >\n      <div class=\"po-page-blocked-user-contact-group-item\">\n        <span class=\"po-page-blocked-user-contact-icon po-icon po-icon-telephone po-pr-1\"></span>\n        <div #phoneItem class=\"po-page-blocked-user-contact-text po-font-text\">{{ phone }}</div>\n      </div>\n    </a>\n  </div>\n  <div\n    class=\"po-page-blocked-user-contact-item po-page-blocked-user-contact-mail\"\n    [class.po-invisible]=\"!email\"\n    [ngClass]=\"overflowItem ? 'po-md-12' : 'po-md-6'\"\n  >\n    <a\n      class=\"po-page-blocked-user-link po-clickable\"\n      [class.po-page-blocked-user-contact-content-inline]=\"overflowItem\"\n      href=\"mailto:{{ email }}\"\n      target=\"_self\"\n    >\n      <div class=\"po-page-blocked-user-contact-group-item\">\n        <span class=\"po-page-blocked-user-contact-icon po-icon po-icon-mail po-pr-1\"></span>\n        <div #mailItem class=\"po-page-blocked-user-contact-text po-font-text\">{{ email }}</div>\n      </div>\n    </a>\n  </div>\n</div>\n",
                changeDetection: ChangeDetectionStrategy.OnPush
            },] }
];
PoPageBlockedUserContactsComponent.ctorParameters = () => [
    { type: ChangeDetectorRef }
];
PoPageBlockedUserContactsComponent.propDecorators = {
    contactGroup: [{ type: ViewChild, args: ['contactGroup', { static: true },] }],
    mailItem: [{ type: ViewChild, args: ['mailItem', { static: true },] }],
    phoneItem: [{ type: ViewChild, args: ['phoneItem', { static: true },] }],
    email: [{ type: Input, args: ['p-email',] }],
    phone: [{ type: Input, args: ['p-phone',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1ibG9ja2VkLXVzZXItY29udGFjdHMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGVtcGxhdGVzL3NyYy9saWIvY29tcG9uZW50cy9wby1wYWdlLWJsb2NrZWQtdXNlci9wby1wYWdlLWJsb2NrZWQtdXNlci1jb250YWN0cy9wby1wYWdlLWJsb2NrZWQtdXNlci1jb250YWN0cy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHVCQUF1QixFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBYyxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXBILE1BQU0sa0NBQWtDLEdBQUcsRUFBRSxDQUFDO0FBTzlDLE1BQU0sT0FBTyxrQ0FBa0M7SUFnQzdDLFlBQW9CLGNBQWlDO1FBQWpDLG1CQUFjLEdBQWQsY0FBYyxDQUFtQjtRQXpCckQsaUJBQVksR0FBWSxJQUFJLENBQUM7SUF5QjJCLENBQUM7SUFwQnpELElBQXNCLEtBQUssQ0FBQyxLQUFhO1FBQ3ZDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBRXBCLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLEtBQUs7UUFDUCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDckIsQ0FBQztJQUVELElBQXNCLEtBQUssQ0FBQyxLQUFhO1FBQ3ZDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBRXBCLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLEtBQUs7UUFDUCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDckIsQ0FBQztJQUlPLHFCQUFxQjtRQUMzQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztRQUV6QixJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUM1QixJQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBRXBDLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQztZQUM1RCxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUM7WUFDMUQsTUFBTSxxQkFBcUIsR0FDekIsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFHLENBQUMsR0FBRyxrQ0FBa0MsQ0FBQztZQUV2RixJQUFJLENBQUMsWUFBWTtnQkFDZixVQUFVLEdBQUcscUJBQXFCLElBQUksU0FBUyxHQUFHLHFCQUFxQixHQUFHLGtDQUFrQyxDQUFDO1NBQ2hIO0lBQ0gsQ0FBQzs7O1lBckRGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsK0JBQStCO2dCQUN6QyxzNkNBQTZEO2dCQUM3RCxlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTTthQUNoRDs7O1lBUmlDLGlCQUFpQjs7OzJCQVVoRCxTQUFTLFNBQUMsY0FBYyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTt1QkFFMUMsU0FBUyxTQUFDLFVBQVUsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7d0JBRXRDLFNBQVMsU0FBQyxXQUFXLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO29CQU92QyxLQUFLLFNBQUMsU0FBUztvQkFVZixLQUFLLFNBQUMsU0FBUyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBJbnB1dCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmNvbnN0IHBvUGFnZUJsb2NrZWRVc2VyQ29udGFjdEl0ZW1NYXJnaW4gPSAxNjtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncG8tcGFnZS1ibG9ja2VkLXVzZXItY29udGFjdHMnLFxuICB0ZW1wbGF0ZVVybDogJy4vcG8tcGFnZS1ibG9ja2VkLXVzZXItY29udGFjdHMuY29tcG9uZW50Lmh0bWwnLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxufSlcbmV4cG9ydCBjbGFzcyBQb1BhZ2VCbG9ja2VkVXNlckNvbnRhY3RzQ29tcG9uZW50IHtcbiAgQFZpZXdDaGlsZCgnY29udGFjdEdyb3VwJywgeyBzdGF0aWM6IHRydWUgfSkgY29udGFjdEdyb3VwOiBFbGVtZW50UmVmO1xuXG4gIEBWaWV3Q2hpbGQoJ21haWxJdGVtJywgeyBzdGF0aWM6IHRydWUgfSkgbWFpbEl0ZW06IEVsZW1lbnRSZWY7XG5cbiAgQFZpZXdDaGlsZCgncGhvbmVJdGVtJywgeyBzdGF0aWM6IHRydWUgfSkgcGhvbmVJdGVtOiBFbGVtZW50UmVmO1xuXG4gIG92ZXJmbG93SXRlbTogYm9vbGVhbiA9IHRydWU7XG5cbiAgcHJpdmF0ZSBfZW1haWw6IHN0cmluZztcbiAgcHJpdmF0ZSBfcGhvbmU6IHN0cmluZztcblxuICBASW5wdXQoJ3AtZW1haWwnKSBzZXQgZW1haWwodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX2VtYWlsID0gdmFsdWU7XG5cbiAgICB0aGlzLmNoZWNrQ29udGFjdEl0ZW1XaWR0aCgpO1xuICB9XG5cbiAgZ2V0IGVtYWlsKCkge1xuICAgIHJldHVybiB0aGlzLl9lbWFpbDtcbiAgfVxuXG4gIEBJbnB1dCgncC1waG9uZScpIHNldCBwaG9uZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fcGhvbmUgPSB2YWx1ZTtcblxuICAgIHRoaXMuY2hlY2tDb250YWN0SXRlbVdpZHRoKCk7XG4gIH1cblxuICBnZXQgcGhvbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Bob25lO1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjaGFuZ2VEZXRlY3RvcjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHt9XG5cbiAgcHJpdmF0ZSBjaGVja0NvbnRhY3RJdGVtV2lkdGgoKSB7XG4gICAgdGhpcy5vdmVyZmxvd0l0ZW0gPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMucGhvbmUgJiYgdGhpcy5lbWFpbCkge1xuICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICAgIGNvbnN0IHBob25lV2lkdGggPSB0aGlzLnBob25lSXRlbS5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgY29uc3QgbWFpbFdpZHRoID0gdGhpcy5tYWlsSXRlbS5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgY29uc3QgY29udGFjdEdyb3VwSGFsZldpZHRoID1cbiAgICAgICAgdGhpcy5jb250YWN0R3JvdXAubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aCAvIDIgLSBwb1BhZ2VCbG9ja2VkVXNlckNvbnRhY3RJdGVtTWFyZ2luO1xuXG4gICAgICB0aGlzLm92ZXJmbG93SXRlbSA9XG4gICAgICAgIHBob25lV2lkdGggPiBjb250YWN0R3JvdXBIYWxmV2lkdGggfHwgbWFpbFdpZHRoID4gY29udGFjdEdyb3VwSGFsZldpZHRoIC0gcG9QYWdlQmxvY2tlZFVzZXJDb250YWN0SXRlbU1hcmdpbjtcbiAgICB9XG4gIH1cbn1cbiJdfQ==