{"version":3,"file":"po-page-dynamic-edit.component.d.ts","sources":["po-page-dynamic-edit.component.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA","sourcesContent":["import { OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PoBreadcrumb, PoDialogService, PoDynamicFormComponent, PoGridComponent, PoGridRowActions, PoLanguageService, PoNotificationService, PoPageAction } from '@po-ui/ng-components';\nimport { PoPageDynamicEditActions } from './interfaces/po-page-dynamic-edit-actions.interface';\nimport { PoPageDynamicEditField } from './interfaces/po-page-dynamic-edit-field.interface';\nimport { PoPageDynamicService } from '../../services/po-page-dynamic/po-page-dynamic.service';\nimport { PoPageDynamicEditOptions } from './interfaces/po-page-dynamic-edit-options.interface';\nimport { PoPageCustomizationService } from '../../services/po-page-customization/po-page-customization.service';\nimport { PoPageDynamicEditActionsService } from './po-page-dynamic-edit-actions.service';\nexport declare const poPageDynamicEditLiteralsDefault: {\n    en: {\n        cancelConfirmMessage: string;\n        detailActionNew: string;\n        pageActionCancel: string;\n        pageActionSave: string;\n        pageActionSaveNew: string;\n        registerNotFound: string;\n        saveNotificationSuccessSave: string;\n        saveNotificationSuccessUpdate: string;\n        saveNotificationWarning: string;\n    };\n    es: {\n        cancelConfirmMessage: string;\n        detailActionNew: string;\n        pageActionCancel: string;\n        pageActionSave: string;\n        pageActionSaveNew: string;\n        registerNotFound: string;\n        saveNotificationSuccessSave: string;\n        saveNotificationSuccessUpdate: string;\n        saveNotificationWarning: string;\n    };\n    pt: {\n        cancelConfirmMessage: string;\n        detailActionNew: string;\n        pageActionCancel: string;\n        pageActionSave: string;\n        pageActionSaveNew: string;\n        registerNotFound: string;\n        saveNotificationSuccessSave: string;\n        saveNotificationSuccessUpdate: string;\n        saveNotificationWarning: string;\n    };\n    ru: {\n        cancelConfirmMessage: string;\n        detailActionNew: string;\n        pageActionCancel: string;\n        pageActionSave: string;\n        pageActionSaveNew: string;\n        registerNotFound: string;\n        saveNotificationSuccessSave: string;\n        saveNotificationSuccessUpdate: string;\n        saveNotificationWarning: string;\n    };\n};\n/**\n * @description\n *\n * O `po-page-dynamic-edit` é uma página que pode servir para editar ou criar novos registros,\n * o mesmo também suporta metadados conforme especificado na documentação.\n *\n * ### Utilização via rota\n *\n * Ao utilizar as rotas para carregar o template, o `page-dynamic-edit` disponibiliza propriedades para\n * poder especificar o endpoint dos dados e dos metadados. Exemplo de utilização:\n *\n * O componente primeiro irá carregar o metadado da rota definida na propriedade serviceMetadataApi\n * e depois irá buscar da rota definida na propriedade serviceLoadApi\n *\n * > Caso o servidor retornar um erro ao recuperar o metadados, será repassado o metadados salvo em cache,\n * se o cache não existe será disparado uma notificação.\n *\n * ```\n * {\n *   path: 'people',\n *   component: PoPageDynamicEditComponent,\n *   data: {\n *     serviceApi: 'http://localhost:3000/v1/people', // endpoint dos dados\n *     serviceMetadataApi: 'http://localhost:3000/v1/metadata', // endpoint dos metadados utilizando o método HTTP Get\n *     serviceLoadApi: 'http://localhost:3000/load-metadata' // endpoint de customizações dos metadados utilizando o método HTTP Post\n *   }\n * }\n *\n * ```\n *\n * Para carregar com um recurso já existente, deve-se ser incluído um parâmetro na rota chamado `id`:\n *\n * ```\n * {\n *   path: 'people/:id',\n *   component: PoPageDynamicEditComponent,\n *   data: {\n *     serviceApi: 'http://localhost:3000/v1/people', // endpoint dos dados\n *     serviceMetadataApi: 'http://localhost:3000/v1/metadata', // endpoint dos metadados\n *     serviceLoadApi: 'http://localhost:3000/load-metadata' // endpoint de customizações dos metadados\n *   }\n * }\n * ```\n *\n * A requisição dos metadados é feita na inicialização do template para buscar os metadados da página passando o\n * tipo do metadado esperado e a versão cacheada pelo browser.\n *\n * O formato esperado na resposta da requisição está especificado na interface\n * [PoPageDynamicEditMetadata](/documentation/po-page-dynamic-edit#po-page-dynamic-edit-metadata). Por exemplo:\n *\n * ```\n *  {\n *   version: 1,\n *   title: 'Person edit',\n *   fields: [\n *     { property: 'id', key: true, disabled: true },\n *     { property: 'status' },\n *     { property: 'name' },\n *     { property: 'nickname' },\n *     { property: 'birthdate', label: 'Birth date' },\n *     { property: 'genre' },\n *     { property: 'city' },\n *     { property: 'country' }\n *   ]\n * }\n * ```\n *\n * > Caso o endpoint dos metadados não seja especificado, será feito uma requisição utilizando o `serviceApi` da seguinte forma:\n * ```\n * GET {end-point}/metadata?type=edit&version={version}\n * ```\n *\n * @example\n *\n * <example name=\"po-page-dynamic-edit-basic\" title=\"PO Page Dynamic Edit Basic\">\n *  <file name=\"sample-po-page-dynamic-edit-basic/sample-po-page-dynamic-edit-basic.component.html\"> </file>\n *  <file name=\"sample-po-page-dynamic-edit-basic/sample-po-page-dynamic-edit-basic.component.ts\"> </file>\n * </example>\n *\n * <example name=\"po-page-dynamic-edit-user\" title=\"PO Page Dynamic Edit - User\">\n *  <file name=\"sample-po-page-dynamic-edit-user/sample-po-page-dynamic-edit-user.component.html\"> </file>\n *  <file name=\"sample-po-page-dynamic-edit-user/sample-po-page-dynamic-edit-user.component.ts\"> </file>\n * </example>\n */\nexport declare class PoPageDynamicEditComponent implements OnInit, OnDestroy {\n    private router;\n    private activatedRoute;\n    private poNotification;\n    private poDialogService;\n    private poPageDynamicService;\n    private poPageCustomizationService;\n    private poPageDynamicEditActionsService;\n    dynamicForm: PoDynamicFormComponent;\n    gridDetail: PoGridComponent;\n    /** Objeto com propriedades do breadcrumb. */\n    breadcrumb?: PoBreadcrumb;\n    /**\n     * @description\n     *\n     * Endpoint usado pelo template para requisição do recurso que será exibido para edição.\n     *\n     * Para as ações de `save` e `saveNew`, será feito uma requisição de criação nesse mesmo endpoint passando os valores\n     * preenchidos pelo usuário via payload.\n     *\n     * > `POST {end-point}`\n     *\n     * ```\n     *  <po-page-dynamic-edit\n     *    [p-actions]=\"{ save: '/', saveNew: 'new' }\"\n     *    [p-fields]=\"[ { property: 'name' }, { property: 'city' } ]\"\n     *    p-service=\"/api/po-samples/v1/people\"\n     *    ...>\n     *  </po-page-dynamic-edit>\n     * ```\n     *\n     * Resquisição disparada, onde a propriedade `name` e `city` foram preenchidas:\n     *\n     * ```\n     *  POST /api/po-samples/v1/people HTTP/1.1\n     *  Host: localhost:4000\n     *  Connection: keep-alive\n     *  Accept: application/json, text/plain\n     *  ...\n     * ```\n     *\n     * Request payload:\n     *\n     * ```\n     * { \"name\": \"Fulano\", \"city\": \"Smallville\" }\n     * ```\n     *\n     * Caso queira que o template carregue um recurso já existente, deve-se ser incluído um parametro na rota chamado `id`.\n     *\n     * Exemplo de configuração de rota:\n     *\n     * ```\n     *  RouterModule.forRoot([\n     *    ...\n     *    { path: 'edit/:id', component: PersonEditComponent },\n     *    ...\n     *  ],\n     * ```\n     *\n     * Baseado nisso, na inicialização do template, será disparado uma requisição para buscar o recurso que será editado.\n     *\n     * > `GET {end-point}/{id}`\n     *\n     * Nos métodos de `save` e `saveNew`, ao invés de um `POST`, será disparado um `PUT`.\n     *\n     * Resquisição disparada, onde a propriedade `name` e `city` foram preenchidas / atualizadas, e o `id` da url é 2:\n     *\n     * ```\n     *  PUT /api/po-samples/v1/people/2 HTTP/1.1\n     *  Host: localhost:4000\n     *  Connection: keep-alive\n     *  Accept: application/json, text/plain\n     *  ...\n     * ```\n     *\n     * Request payload:\n     *\n     * ```\n     * { \"name\": \"Fulano\", \"city\": \"Metropolis\" }\n     * ```\n     */\n    serviceApi: string;\n    /** Título da página. */\n    title: string;\n    /**\n     * Função ou serviço que será executado na inicialização do componente.\n     *\n     * A propriedade aceita os seguintes tipos:\n     * - `string`: *Endpoint* usado pelo componente para requisição via `POST`.\n     * - `function`: Método que será executado.\n     *\n     * O retorno desta função deve ser do tipo `PoPageDynamicEditOptions`,\n     * onde o usuário poderá customizar novos campos, breadcrumb, title e actions\n     *\n     * Por exemplo:\n     *\n     * ```\n     * getPageOptions(): PoPageDynamicEditOptions {\n     * return {\n     *   actions:\n     *     { cancel: false, save: 'save/:id', saveNew: 'saveNew' },\n     *   fields: [\n     *     { property: 'idCard', gridColumns: 6 }\n     *   ]\n     * };\n     * }\n     *\n     * ```\n     * Para referenciar a sua função utilize a propriedade `bind`, por exemplo:\n     * ```\n     *  [p-load]=\"onLoadOptions.bind(this)\"\n     * ```\n     */\n    onLoad: string | (() => PoPageDynamicEditOptions);\n    literals: any;\n    model: any;\n    readonly detailActions: PoGridRowActions;\n    private subscriptions;\n    private _actions;\n    private _autoRouter;\n    private _controlFields;\n    private _detailFields;\n    private _duplicates;\n    private _fields;\n    private _keys;\n    private _pageActions;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Ações da página.\n     */\n    set actions(value: PoPageDynamicEditActions);\n    get actions(): PoPageDynamicEditActions;\n    /**\n     * @todo Validar rotas na mão pois se existir uma rota '**' o catch do navigation não funciona.\n     *\n     * @optional\n     *\n     * @description\n     *\n     * Cria automaticamente as rotas de edição (novo/duplicate) e detalhes caso as ações\n     * estejam definidas nas ações.\n     *\n     * > Para o correto funcionamento não pode haver nenhum rota coringa (`**`) especificada.\n     *\n     * @default false\n     */\n    set autoRouter(value: boolean);\n    get autoRouter(): boolean;\n    /** Lista dos campos usados na tabela e busca avançada. */\n    set fields(value: Array<PoPageDynamicEditField>);\n    get fields(): Array<PoPageDynamicEditField>;\n    constructor(router: Router, activatedRoute: ActivatedRoute, poNotification: PoNotificationService, poDialogService: PoDialogService, poPageDynamicService: PoPageDynamicService, poPageCustomizationService: PoPageCustomizationService, poPageDynamicEditActionsService: PoPageDynamicEditActionsService, languageService: PoLanguageService);\n    ngOnInit(): void;\n    ngOnDestroy(): void;\n    detailActionNew(): void;\n    get duplicates(): any[];\n    get keys(): any[];\n    get pageActions(): PoPageAction[];\n    get controlFields(): any[];\n    get detailFields(): any[];\n    private loadDataFromAPI;\n    private cancel;\n    private formatUniqueKey;\n    private goBack;\n    private executeBackAction;\n    private loadData;\n    private loadOptionsOnInitialize;\n    private getPoDynamicPageOptions;\n    private getMetadata;\n    private navigateTo;\n    private resolveUniqueKey;\n    private resolveUrl;\n    private executeSave;\n    private updateModel;\n    private saveOperation;\n    private save;\n    private executeSaveNew;\n    private getKeysByFields;\n    private getControlFields;\n    private getDetailFields;\n    private getDuplicatesByFields;\n    private getPageActions;\n    private isObject;\n}\n"]}