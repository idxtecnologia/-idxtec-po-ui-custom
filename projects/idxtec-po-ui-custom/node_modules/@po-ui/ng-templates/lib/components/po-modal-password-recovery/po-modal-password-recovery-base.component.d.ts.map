{"version":3,"file":"po-modal-password-recovery-base.component.d.ts","sources":["po-modal-password-recovery-base.component.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA","sourcesContent":["import { EventEmitter } from '@angular/core';\nimport { PoLanguageService } from '@po-ui/ng-components';\nimport { PoModalPasswordRecoveryType } from './enums/po-modal-password-recovery-type.enum';\n/**\n * @description\n *\n * O componente `po-modal-password-recovery` é utilizado como template para solicitação de troca de senha.\n *\n * É composto por uma modal que possui três telas, cada uma com as seguintes características:\n *\n * - A primeira possui campos para preenchimento de email ou número de telefone;\n * - Tela com campo para preenchimento de código SMS enviado para o número de telefone enviado;\n * - A terceira se trata de uma confirmação de envio de link para a caixa de email do usuário.\n *\n *\n * A propriedade `p-url-recovery` automatiza a rotina do componente e simplifica o processo\n * para recuperação de senha, bastando definir uma url para requisição dos recursos.\n * Seu detalhamento para uso pode ser visto logo abaixo em *propriedades*.\n * Caso julgue necessário, pode-se também definir manualmente a rotina do componente.\n *\n *\n * Para a modal de digitação de código SMS, é possível definir uma mensagem de erro\n * customizada com a propriedade `p-code-error` e há um link para\n * reenvio de código por SMS. Ao reenviar, o evento `p-code-submit` envia um objeto com o telefone do usuário e a quantidade\n * de vezes em que o usuário fez a solicitação de reenvio.\n *\n * > É indicada a utilização da tela de digitação para envio de código SMS apenas\n * se a opção por envio SMS for disponibilizada para o usuário.\n *\n *\n * A modal de confirmação contém uma ação de reenvio e o evento `p-submit`\n * é quem passa o objeto contendo o email em conjunto com a quantidade de tentativas de reenvio.\n *\n * > A tela de confirmação é indicada para quando o usuário solicitar a troca através do email.\n *\n * > Os textos das modals são pré-definidos, imutáveis e são traduzidos de acordo com o idioma do *browser* (pt, en e es)\n *\n * Para que as imagens sejam exibidas corretamente, é necessário incluir o caminho delas ao projeto. Para isso, edite\n * o *assets* no arquivo **angular.json** da aplicação na seguinte ordem:\n * ```\n *   \"assets\": [\n *     \"src/assets\",\n *     \"src/favicon.ico\",\n *     {\n *       \"glob\": \"**\\/*\",\n *       \"input\": \"node_modules/@po-ui/style/images\",\n *       \"output\": \"assets/images\"\n *     }\n *   ]\n * ```\n */\nexport declare abstract class PoModalPasswordRecoveryBaseComponent {\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Definição de mensagem de erro customizada para quando o usuário passar um código SMS inválido ou errado.\n     */\n    codeError: string;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Endpoint usado pelo template para requisição do recurso. Quando preenchido,\n     * o métodos `p-submit` e `p-submit-code` serão ignorados e o componente adquirirá automatização\n     * para o processo de solicitação de troca de senha.\n     *\n     * ### Processos\n     * Ao digitar um valor válido no campo de email/telefone e pressionar **enviar**,\n     * o componente fará uma requisição `POST` na url especificada nesta propriedade passando o objeto contendo o valor definido pelo usuário.\n     *\n     * ```\n     * body {\n     *  email: email,\n     *  retry?: retry\n     * }\n     * ```\n     *\n     *\n     * #### Recuperação por email\n     * Para a recuperação de senha por **email**, o código de resposta HTTP de status esperado é `204`.\n     *\n     * Em caso de **sucesso**, será exibida a modal de confirmação de e-mail para o usuário.\n     *\n     *\n     * > A ação **Reenviar** na tela de confirmação efetua uma nova requisição\n     * passando-se o objeto com incremento para o valor da propriedade **retry**.\n     *\n     * *Processo finalizado.*\n     *\n     *\n     * #### Recuperação por SMS\n     * Se a opção de recuperação for por **SMS**, o código de status de sucesso deve ser `200`.\n     * Em caso de **sucesso**, abre-se a modal de digitação de código SMS e a resposta\n     * desta requisição deve retornar uma definição de dados abaixo:\n     *\n     * ```\n     * 200:\n     *  {\n     *    hash: hash,\n     *    urlValidationCode?: url\n     *  }\n     * ```\n     *\n     *\n     * - O **hash** será o código de validação da solicitação do SMS para ser enviado juntamente com o código de verificação do SMS;\n     * - **urlValidationCode** é a url usada para validação do código enviado por SMS.\n     *\n     *\n     * > Caso não seja passado urlValidationCode, o endpoint usado para validação do código será `<p-url-recovery>/validation`.\n     *\n     *\n     * #### Validação do código SMS\n     * Ao digitar um valor válido no campo de código SMS e pressionar **continuar**, o componente fará uma requisição `POST` contendo:\n     *\n     * ```\n     * POST /<p-url-recovery>/validation OU /<urlValidationCode>\n     * Body {\n     *  hash: hash,\n     *  code: code\n     * }\n     * ```\n     *\n     *\n     * O código de resposta HTTP de status esperado é `200`.\n     *\n     * Em caso de **erro** na validação do código SMS, a modal se mantém com o campo para digitação\n     * de código SMS\n     *\n     *\n     * > Pode-se atribuir a mensagem de erro (message) para o atributo `p-code-error` conforme retorno abaixo:\n     *\n     * ```\n     * 400\n     *  {\n     *    error {\n     *      message: 'Error Message'\n     *    }\n     *  }\n     * ```\n     *\n     *\n     * Em caso de **sucesso**, espera-se a resposta desta requisição retornando a seguinte definição:\n     *\n     * ```\n     * 200:\n     *  {\n     *    token: token,\n     *    urlChangePassword?: url\n     *  }\n     * ```\n     *\n     *\n     * - **token**: Token de alteração de senha;\n     * - **urlChangePassword**: url para o formulário de alteração de senha.\n     *\n     *\n     * O componente está configurado para redirecionar para a url estabelecida em `urlChangePassword`.\n     *\n     * > Caso não seja passado valor para urlChangePassword,\n     * a url usada para validação será a `<p-url-recovery>/changePassword?token=<token>`.\n     *\n     * *Processo finalizado.*\n     */\n    urlRecovery?: string;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Ação contendo como parâmetro o código enviado por SMS e digitado pelo usuário.\n     *\n     * > Esta propriedade será ignorada se for definido valor para a propriedade `p-url-recovery`.\n     */\n    codeSubmit: EventEmitter<any>;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Ação contendo o email como parâmetro e que é executada quando o usuário clica sobres os botões de 'enviar' e 'reenviar' e-mail.\n     *\n     * > Esta propriedade será ignorada se for definido valor para a propriedade `p-url-recovery`.\n     */\n    submit: EventEmitter<any>;\n    email: string;\n    maxLength: number;\n    minLength: number;\n    modalPasswordRecoveryTypeAll: boolean;\n    phone: string;\n    smsCode: string;\n    smsCodeErrorMessage: string;\n    literals: {\n        cancelButton: string;\n        closeButton: string;\n        continueButton: string;\n        email: string;\n        emailErrorMessagePhrase: string;\n        emailSentConfirmationPhrase: string;\n        emailSentTitle: string;\n        forgotPasswordTitle: string;\n        insertCode: string;\n        insertEmail: string;\n        insertPhone: string;\n        phoneErrorMessagePhrase: string;\n        prepositionIn: string;\n        prepositionOr: string;\n        recoveryPasswordPhrase: string;\n        resendEmailButton: string;\n        resendSmsCodePhrase: string;\n        sendAgain: string;\n        sendAgainPhrase: string;\n        sendButton: string;\n        sms: string;\n        smsCode: string;\n        smsCodeErrorMessagePhrase: string;\n        sentSmsCodePhrase: string;\n        supportContact: string;\n        telephone: string;\n        typeCodeTitle: string;\n    };\n    private _contactEmail;\n    private _phoneMask;\n    private _type;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Definição do e-mail que é exibido na mensagem para contato de suporte.\n     */\n    set contactEmail(value: string);\n    get contactEmail(): string;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Definição da mascara do campo de telefone.\n     *\n     * @default `(99) 99999-9999`\n     */\n    set phoneMask(value: string);\n    get phoneMask(): string;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Define o tipo de recuperação de senha que será exibido.\n     *\n     * @default `PoModalPasswordRecoveryType.Email`\n     *\n     */\n    set type(value: PoModalPasswordRecoveryType);\n    get type(): PoModalPasswordRecoveryType;\n    constructor(languageService: PoLanguageService);\n    private concatenateSMSErrorMessage;\n    /**\n     * Acão para conclusão de processo e fechamento da modal. Indica-se sua utilização\n     * para após o envio e validação do código SMS enviado pelo usuário.\n     *\n     * > Nas modals em que há a ação de 'cancelar' dispensa-se o uso desta ação pois o componente já trata o fechamento da modal.\n     */\n    abstract completed(): void;\n    /**\n     * Abre a modal de preenchimento de email ou número de telefone para solicitação de troca de senha.\n     */\n    abstract open(): void;\n    /**\n     * Abre a modal de confirmação de envio de email.\n     */\n    abstract openConfirmation(): void;\n    /**\n     * Abre a modal de preenchimento do código SMS enviado ao usuário.\n     */\n    abstract openSmsCode(): void;\n}\n"]}