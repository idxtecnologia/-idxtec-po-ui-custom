import { Injectable } from '@angular/core';
import { PoColorPaletteEnum } from '../../enums/po-color-palette.enum';
import { PoDefaultColors } from './po-colors.constant';
import * as i0 from "@angular/core";
const poColorPalette = Object.values(PoColorPaletteEnum);
export class PoColorService {
    constructor() {
        this.defaultColors = [];
    }
    /**
     * Avalia a propriedade `color` na lista de items passada. Caso sim, trata se é decimal ou string `po-color`. Caso não haja, retorna a cor default.
     *
     * @param data
     */
    getColors(data) {
        this.verifyIfHasColorProperty(data);
        return data.map((dataItem, index) => {
            if (dataItem.color) {
                dataItem.color = this.verifyIfIsPoColorPalette(dataItem.color);
                return dataItem;
            }
            const color = this.defaultColors[index];
            return Object.assign(Object.assign({}, dataItem), { color });
        });
    }
    verifyIfHasColorProperty(data) {
        const hasColorProperty = data.every(dataItem => { var _a; return dataItem.hasOwnProperty('color') && ((_a = dataItem.color) === null || _a === void 0 ? void 0 : _a.length) > 0; });
        if (!hasColorProperty) {
            this.defaultColors = this.getDefaultColors(data.length);
        }
    }
    verifyIfIsPoColorPalette(color) {
        if (poColorPalette.includes(color)) {
            return `po-${color}`;
        }
        return color;
    }
    getDefaultColors(length) {
        if (length === 1) {
            return PoDefaultColors[0];
        }
        const colorsLength = PoDefaultColors.length;
        if (length > colorsLength) {
            const quantityDuplicates = length / colorsLength;
            let colors = PoDefaultColors[colorsLength - 1];
            for (let i = 0; i <= quantityDuplicates; i++) {
                colors = colors.concat(PoDefaultColors[colorsLength]);
            }
            return colors;
        }
        return PoDefaultColors[length - 1];
    }
}
PoColorService.ɵprov = i0.ɵɵdefineInjectable({ factory: function PoColorService_Factory() { return new PoColorService(); }, token: PoColorService, providedIn: "root" });
PoColorService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tY29sb3Iuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvc2VydmljZXMvcG8tY29sb3IvcG8tY29sb3Iuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBQ3ZFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQzs7QUFFdkQsTUFBTSxjQUFjLEdBQVMsTUFBTyxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBU2hFLE1BQU0sT0FBTyxjQUFjO0lBSDNCO1FBSUUsa0JBQWEsR0FBa0IsRUFBRSxDQUFDO0tBd0RuQztJQXREQzs7OztPQUlHO0lBQ0gsU0FBUyxDQUF3QixJQUFjO1FBQzdDLElBQUksQ0FBQyx3QkFBd0IsQ0FBSSxJQUFJLENBQUMsQ0FBQztRQUV2QyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDbEMsSUFBSSxRQUFRLENBQUMsS0FBSyxFQUFFO2dCQUNsQixRQUFRLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRS9ELE9BQU8sUUFBUSxDQUFDO2FBQ2pCO1lBRUQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN4Qyx1Q0FBWSxRQUFRLEtBQUUsS0FBSyxJQUFHO1FBQ2hDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVPLHdCQUF3QixDQUF3QixJQUFjO1FBQ3BFLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRSxXQUFDLE9BQUEsUUFBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFBLE1BQUEsUUFBUSxDQUFDLEtBQUssMENBQUUsTUFBTSxJQUFHLENBQUMsQ0FBQSxFQUFBLENBQUMsQ0FBQztRQUNoSCxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDckIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3pEO0lBQ0gsQ0FBQztJQUVPLHdCQUF3QixDQUFDLEtBQWE7UUFDNUMsSUFBSSxjQUFjLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ2xDLE9BQU8sTUFBTSxLQUFLLEVBQUUsQ0FBQztTQUN0QjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVPLGdCQUFnQixDQUFDLE1BQWM7UUFDckMsSUFBSSxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ2hCLE9BQU8sZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzNCO1FBRUQsTUFBTSxZQUFZLEdBQUcsZUFBZSxDQUFDLE1BQU0sQ0FBQztRQUU1QyxJQUFJLE1BQU0sR0FBRyxZQUFZLEVBQUU7WUFDekIsTUFBTSxrQkFBa0IsR0FBRyxNQUFNLEdBQUcsWUFBWSxDQUFDO1lBQ2pELElBQUksTUFBTSxHQUFHLGVBQWUsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFFL0MsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLGtCQUFrQixFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUM1QyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQzthQUN2RDtZQUVELE9BQU8sTUFBTSxDQUFDO1NBQ2Y7UUFFRCxPQUFPLGVBQWUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQzs7OztZQTNERixVQUFVLFNBQUM7Z0JBQ1YsVUFBVSxFQUFFLE1BQU07YUFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFBvQ29sb3JQYWxldHRlRW51bSB9IGZyb20gJy4uLy4uL2VudW1zL3BvLWNvbG9yLXBhbGV0dGUuZW51bSc7XG5pbXBvcnQgeyBQb0RlZmF1bHRDb2xvcnMgfSBmcm9tICcuL3BvLWNvbG9ycy5jb25zdGFudCc7XG5cbmNvbnN0IHBvQ29sb3JQYWxldHRlID0gKDxhbnk+T2JqZWN0KS52YWx1ZXMoUG9Db2xvclBhbGV0dGVFbnVtKTtcblxuaW50ZXJmYWNlIFBvQ29sb3JBcmdzIHtcbiAgY29sb3I/OiBzdHJpbmc7XG59XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIFBvQ29sb3JTZXJ2aWNlIHtcbiAgZGVmYXVsdENvbG9yczogQXJyYXk8c3RyaW5nPiA9IFtdO1xuXG4gIC8qKlxuICAgKiBBdmFsaWEgYSBwcm9wcmllZGFkZSBgY29sb3JgIG5hIGxpc3RhIGRlIGl0ZW1zIHBhc3NhZGEuIENhc28gc2ltLCB0cmF0YSBzZSDDqSBkZWNpbWFsIG91IHN0cmluZyBgcG8tY29sb3JgLiBDYXNvIG7Do28gaGFqYSwgcmV0b3JuYSBhIGNvciBkZWZhdWx0LlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YVxuICAgKi9cbiAgZ2V0Q29sb3JzPFQgZXh0ZW5kcyBQb0NvbG9yQXJncz4oZGF0YTogQXJyYXk8VD4pOiBBcnJheTxUPiB7XG4gICAgdGhpcy52ZXJpZnlJZkhhc0NvbG9yUHJvcGVydHk8VD4oZGF0YSk7XG5cbiAgICByZXR1cm4gZGF0YS5tYXAoKGRhdGFJdGVtLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGRhdGFJdGVtLmNvbG9yKSB7XG4gICAgICAgIGRhdGFJdGVtLmNvbG9yID0gdGhpcy52ZXJpZnlJZklzUG9Db2xvclBhbGV0dGUoZGF0YUl0ZW0uY29sb3IpO1xuXG4gICAgICAgIHJldHVybiBkYXRhSXRlbTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29sb3IgPSB0aGlzLmRlZmF1bHRDb2xvcnNbaW5kZXhdO1xuICAgICAgcmV0dXJuIHsgLi4uZGF0YUl0ZW0sIGNvbG9yIH07XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHZlcmlmeUlmSGFzQ29sb3JQcm9wZXJ0eTxUIGV4dGVuZHMgUG9Db2xvckFyZ3M+KGRhdGE6IEFycmF5PFQ+KTogdm9pZCB7XG4gICAgY29uc3QgaGFzQ29sb3JQcm9wZXJ0eSA9IGRhdGEuZXZlcnkoZGF0YUl0ZW0gPT4gZGF0YUl0ZW0uaGFzT3duUHJvcGVydHkoJ2NvbG9yJykgJiYgZGF0YUl0ZW0uY29sb3I/Lmxlbmd0aCA+IDApO1xuICAgIGlmICghaGFzQ29sb3JQcm9wZXJ0eSkge1xuICAgICAgdGhpcy5kZWZhdWx0Q29sb3JzID0gdGhpcy5nZXREZWZhdWx0Q29sb3JzKGRhdGEubGVuZ3RoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHZlcmlmeUlmSXNQb0NvbG9yUGFsZXR0ZShjb2xvcjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAocG9Db2xvclBhbGV0dGUuaW5jbHVkZXMoY29sb3IpKSB7XG4gICAgICByZXR1cm4gYHBvLSR7Y29sb3J9YDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREZWZhdWx0Q29sb3JzKGxlbmd0aDogbnVtYmVyKTogQXJyYXk8c3RyaW5nPiB7XG4gICAgaWYgKGxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIFBvRGVmYXVsdENvbG9yc1swXTtcbiAgICB9XG5cbiAgICBjb25zdCBjb2xvcnNMZW5ndGggPSBQb0RlZmF1bHRDb2xvcnMubGVuZ3RoO1xuXG4gICAgaWYgKGxlbmd0aCA+IGNvbG9yc0xlbmd0aCkge1xuICAgICAgY29uc3QgcXVhbnRpdHlEdXBsaWNhdGVzID0gbGVuZ3RoIC8gY29sb3JzTGVuZ3RoO1xuICAgICAgbGV0IGNvbG9ycyA9IFBvRGVmYXVsdENvbG9yc1tjb2xvcnNMZW5ndGggLSAxXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gcXVhbnRpdHlEdXBsaWNhdGVzOyBpKyspIHtcbiAgICAgICAgY29sb3JzID0gY29sb3JzLmNvbmNhdChQb0RlZmF1bHRDb2xvcnNbY29sb3JzTGVuZ3RoXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb2xvcnM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFBvRGVmYXVsdENvbG9yc1tsZW5ndGggLSAxXTtcbiAgfVxufVxuIl19