import { Injectable } from '@angular/core';
import { PoChartPadding } from '../helpers/po-chart-default-values.constant';
import * as i0 from "@angular/core";
export class PoChartSvgContainerService {
    constructor() { }
    /**
     * Retorna um objeto do tipo PoChartContainerSize contendo as dimensões necessárias para plotagem do SVG.
     *
     * @param chartHeight
     * @param chartWrapperWidth
     * @param chartHeaderHeight
     * @param chartLegendHeight
     */
    calculateSVGContainerMeasurements(chartHeight = 0, chartWrapperWidth = 0, chartHeaderHeight = 0, chartLegendHeight = 0) {
        const svgWidth = this.svgWidth(chartWrapperWidth);
        const centerX = this.center(chartWrapperWidth);
        const svgHeight = this.svgHeight(chartHeight, chartHeaderHeight, chartLegendHeight);
        const centerY = this.center(svgHeight);
        const svgPlottingAreaHeight = this.svgPlottingAreaHeight(svgHeight);
        return {
            svgWidth,
            svgHeight,
            centerX,
            centerY,
            svgPlottingAreaHeight
        };
    }
    // Largura do container.
    svgWidth(chartWrapperWidth) {
        const wrapperWidth = chartWrapperWidth - PoChartPadding * 2;
        return wrapperWidth > 0 ? wrapperWidth : 0;
    }
    // O centro do container. Usado para gráficos do tipo circular.
    center(dimension) {
        return dimension / 2;
    }
    // Altura do container
    svgHeight(chartHeight, chartHeaderHeight, chartLegendHeight) {
        const subtractedHeights = chartHeight - chartHeaderHeight - chartLegendHeight - PoChartPadding * 2;
        return subtractedHeights <= 0 ? 0 : subtractedHeights;
    }
    /**
     * Altura da área de plotagem.
     * Subtrai a altura do container SVG pelo padding superior + área para overflow de labels do eixo X.
     */
    svgPlottingAreaHeight(svgHeight) {
        return svgHeight - PoChartPadding - 8;
    }
}
PoChartSvgContainerService.ɵprov = i0.ɵɵdefineInjectable({ factory: function PoChartSvgContainerService_Factory() { return new PoChartSvgContainerService(); }, token: PoChartSvgContainerService, providedIn: "root" });
PoChartSvgContainerService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
PoChartSvgContainerService.ctorParameters = () => [];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tY2hhcnQtc3ZnLWNvbnRhaW5lci5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWkvc3JjL2xpYi9jb21wb25lbnRzL3BvLWNoYXJ0L3NlcnZpY2VzL3BvLWNoYXJ0LXN2Zy1jb250YWluZXIuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSw2Q0FBNkMsQ0FBQzs7QUFNN0UsTUFBTSxPQUFPLDBCQUEwQjtJQUNyQyxnQkFBZSxDQUFDO0lBRWhCOzs7Ozs7O09BT0c7SUFDSCxpQ0FBaUMsQ0FDL0IsY0FBc0IsQ0FBQyxFQUN2QixvQkFBNEIsQ0FBQyxFQUM3QixvQkFBNEIsQ0FBQyxFQUM3QixvQkFBNEIsQ0FBQztRQUU3QixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDbEQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQy9DLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLGlCQUFpQixFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDcEYsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN2QyxNQUFNLHFCQUFxQixHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUVwRSxPQUFPO1lBQ0wsUUFBUTtZQUNSLFNBQVM7WUFDVCxPQUFPO1lBQ1AsT0FBTztZQUNQLHFCQUFxQjtTQUN0QixDQUFDO0lBQ0osQ0FBQztJQUVELHdCQUF3QjtJQUNoQixRQUFRLENBQUMsaUJBQXlCO1FBQ3hDLE1BQU0sWUFBWSxHQUFHLGlCQUFpQixHQUFHLGNBQWMsR0FBRyxDQUFDLENBQUM7UUFFNUQsT0FBTyxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRUQsK0RBQStEO0lBQ3ZELE1BQU0sQ0FBQyxTQUFpQjtRQUM5QixPQUFPLFNBQVMsR0FBRyxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUVELHNCQUFzQjtJQUNkLFNBQVMsQ0FBQyxXQUFtQixFQUFFLGlCQUF5QixFQUFFLGlCQUF5QjtRQUN6RixNQUFNLGlCQUFpQixHQUFHLFdBQVcsR0FBRyxpQkFBaUIsR0FBRyxpQkFBaUIsR0FBRyxjQUFjLEdBQUcsQ0FBQyxDQUFDO1FBRW5HLE9BQU8saUJBQWlCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDO0lBQ3hELENBQUM7SUFFRDs7O09BR0c7SUFDSyxxQkFBcUIsQ0FBQyxTQUFpQjtRQUM3QyxPQUFPLFNBQVMsR0FBRyxjQUFjLEdBQUcsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7Ozs7WUE1REYsVUFBVSxTQUFDO2dCQUNWLFVBQVUsRUFBRSxNQUFNO2FBQ25CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBQb0NoYXJ0UGFkZGluZyB9IGZyb20gJy4uL2hlbHBlcnMvcG8tY2hhcnQtZGVmYXVsdC12YWx1ZXMuY29uc3RhbnQnO1xuaW1wb3J0IHsgUG9DaGFydENvbnRhaW5lclNpemUgfSBmcm9tICcuLi9pbnRlcmZhY2VzL3BvLWNoYXJ0LWNvbnRhaW5lci1zaXplLmludGVyZmFjZSc7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIFBvQ2hhcnRTdmdDb250YWluZXJTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIC8qKlxuICAgKiBSZXRvcm5hIHVtIG9iamV0byBkbyB0aXBvIFBvQ2hhcnRDb250YWluZXJTaXplIGNvbnRlbmRvIGFzIGRpbWVuc8O1ZXMgbmVjZXNzw6FyaWFzIHBhcmEgcGxvdGFnZW0gZG8gU1ZHLlxuICAgKlxuICAgKiBAcGFyYW0gY2hhcnRIZWlnaHRcbiAgICogQHBhcmFtIGNoYXJ0V3JhcHBlcldpZHRoXG4gICAqIEBwYXJhbSBjaGFydEhlYWRlckhlaWdodFxuICAgKiBAcGFyYW0gY2hhcnRMZWdlbmRIZWlnaHRcbiAgICovXG4gIGNhbGN1bGF0ZVNWR0NvbnRhaW5lck1lYXN1cmVtZW50cyhcbiAgICBjaGFydEhlaWdodDogbnVtYmVyID0gMCxcbiAgICBjaGFydFdyYXBwZXJXaWR0aDogbnVtYmVyID0gMCxcbiAgICBjaGFydEhlYWRlckhlaWdodDogbnVtYmVyID0gMCxcbiAgICBjaGFydExlZ2VuZEhlaWdodDogbnVtYmVyID0gMFxuICApOiBQb0NoYXJ0Q29udGFpbmVyU2l6ZSB7XG4gICAgY29uc3Qgc3ZnV2lkdGggPSB0aGlzLnN2Z1dpZHRoKGNoYXJ0V3JhcHBlcldpZHRoKTtcbiAgICBjb25zdCBjZW50ZXJYID0gdGhpcy5jZW50ZXIoY2hhcnRXcmFwcGVyV2lkdGgpO1xuICAgIGNvbnN0IHN2Z0hlaWdodCA9IHRoaXMuc3ZnSGVpZ2h0KGNoYXJ0SGVpZ2h0LCBjaGFydEhlYWRlckhlaWdodCwgY2hhcnRMZWdlbmRIZWlnaHQpO1xuICAgIGNvbnN0IGNlbnRlclkgPSB0aGlzLmNlbnRlcihzdmdIZWlnaHQpO1xuICAgIGNvbnN0IHN2Z1Bsb3R0aW5nQXJlYUhlaWdodCA9IHRoaXMuc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0KHN2Z0hlaWdodCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3ZnV2lkdGgsXG4gICAgICBzdmdIZWlnaHQsXG4gICAgICBjZW50ZXJYLFxuICAgICAgY2VudGVyWSxcbiAgICAgIHN2Z1Bsb3R0aW5nQXJlYUhlaWdodFxuICAgIH07XG4gIH1cblxuICAvLyBMYXJndXJhIGRvIGNvbnRhaW5lci5cbiAgcHJpdmF0ZSBzdmdXaWR0aChjaGFydFdyYXBwZXJXaWR0aDogbnVtYmVyKSB7XG4gICAgY29uc3Qgd3JhcHBlcldpZHRoID0gY2hhcnRXcmFwcGVyV2lkdGggLSBQb0NoYXJ0UGFkZGluZyAqIDI7XG5cbiAgICByZXR1cm4gd3JhcHBlcldpZHRoID4gMCA/IHdyYXBwZXJXaWR0aCA6IDA7XG4gIH1cblxuICAvLyBPIGNlbnRybyBkbyBjb250YWluZXIuIFVzYWRvIHBhcmEgZ3LDoWZpY29zIGRvIHRpcG8gY2lyY3VsYXIuXG4gIHByaXZhdGUgY2VudGVyKGRpbWVuc2lvbjogbnVtYmVyKSB7XG4gICAgcmV0dXJuIGRpbWVuc2lvbiAvIDI7XG4gIH1cblxuICAvLyBBbHR1cmEgZG8gY29udGFpbmVyXG4gIHByaXZhdGUgc3ZnSGVpZ2h0KGNoYXJ0SGVpZ2h0OiBudW1iZXIsIGNoYXJ0SGVhZGVySGVpZ2h0OiBudW1iZXIsIGNoYXJ0TGVnZW5kSGVpZ2h0OiBudW1iZXIpIHtcbiAgICBjb25zdCBzdWJ0cmFjdGVkSGVpZ2h0cyA9IGNoYXJ0SGVpZ2h0IC0gY2hhcnRIZWFkZXJIZWlnaHQgLSBjaGFydExlZ2VuZEhlaWdodCAtIFBvQ2hhcnRQYWRkaW5nICogMjtcblxuICAgIHJldHVybiBzdWJ0cmFjdGVkSGVpZ2h0cyA8PSAwID8gMCA6IHN1YnRyYWN0ZWRIZWlnaHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsdHVyYSBkYSDDoXJlYSBkZSBwbG90YWdlbS5cbiAgICogU3VidHJhaSBhIGFsdHVyYSBkbyBjb250YWluZXIgU1ZHIHBlbG8gcGFkZGluZyBzdXBlcmlvciArIMOhcmVhIHBhcmEgb3ZlcmZsb3cgZGUgbGFiZWxzIGRvIGVpeG8gWC5cbiAgICovXG4gIHByaXZhdGUgc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0KHN2Z0hlaWdodDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHN2Z0hlaWdodCAtIFBvQ2hhcnRQYWRkaW5nIC0gODtcbiAgfVxufVxuIl19