import { Input, Directive } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
import { PoButtonGroupToggle } from './po-button-group-toggle.enum';
const PO_TOGGLE_TYPE_DEFAULT = 'none';
/**
 * @description
 *
 * O componente `po-button-group` é formado por um conjunto de botões distribuídos horizontalmente.
 * Cada botão do grupo é tratado de forma individual, recebendo assim um rótulo, uma ação bem como se deverá estar habilitado ou não.
 *
 * Este componente além de servir como um agrupador de botões para ação, também permite que sejam utilizados
 * para seleções multiplas e únicas.
 *
 * O grupo de botões deve ser utilizado para organizar as ações de maneira uniforme e transmitir a ideia de que os botões fazem
 * parte de um mesmo contexto.
 *
 * #### Boas práticas
 *
 * - Evite usar o `po-button-group` com apenas 1 ação, para isso utilize o `po-button`.
 * - Procure utilizar no máximo 3 ações para cada `po-button-group`.
 *
 * > As recomendações do `po-button` também valem para o `po-button-group`.
 */
export class PoButtonGroupBaseComponent {
    constructor() {
        /** Lista de botões. */
        this.buttons = [];
        this._small = false;
        this._toggle = PO_TOGGLE_TYPE_DEFAULT;
    }
    /**
     * @optional
     *
     * @description
     *
     * Torna o grupo de botões com tamanho minificado.
     *
     * @default `false`
     */
    set small(value) {
        this._small = value === '' ? true : convertToBoolean(value);
    }
    get small() {
        return this._small;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define o modo de seleção de botões.
     *
     * > Veja os valores válidos no *enum* `PoMultiselectFilterMode`.
     *
     * @default `none`
     */
    set toggle(value) {
        this._toggle = Object.values(PoButtonGroupToggle).includes(value) ? value : PO_TOGGLE_TYPE_DEFAULT;
        this.checkSelecteds(this._toggle);
    }
    get toggle() {
        return this._toggle;
    }
    onButtonClick(buttonClicked, buttonIndex) {
        if (this.toggle === PoButtonGroupToggle.Single) {
            this.buttons.forEach((button, index) => (button.selected = index === buttonIndex ? !buttonClicked.selected : false));
        }
        else if (this.toggle === PoButtonGroupToggle.Multiple) {
            buttonClicked.selected = !buttonClicked.selected;
        }
    }
    checkSelecteds(toggleMode) {
        if (toggleMode === PoButtonGroupToggle.None) {
            this.deselectAllButtons();
        }
        else if (toggleMode === PoButtonGroupToggle.Single) {
            const hasMoreOneSelected = this.buttons.filter(button => button.selected).length > 1;
            if (hasMoreOneSelected) {
                this.deselectAllButtons();
            }
        }
    }
    deselectAllButtons() {
        this.buttons.forEach(button => (button.selected = false));
    }
}
PoButtonGroupBaseComponent.decorators = [
    { type: Directive }
];
PoButtonGroupBaseComponent.propDecorators = {
    buttons: [{ type: Input, args: ['p-buttons',] }],
    small: [{ type: Input, args: ['p-small',] }],
    toggle: [{ type: Input, args: ['p-toggle',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tYnV0dG9uLWdyb3VwLWJhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWkvc3JjL2xpYi9jb21wb25lbnRzL3BvLWJ1dHRvbi1ncm91cC9wby1idXR0b24tZ3JvdXAtYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFakQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFcEQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFFcEUsTUFBTSxzQkFBc0IsR0FBRyxNQUFNLENBQUM7QUFFdEM7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWtCRztBQUVILE1BQU0sT0FBTywwQkFBMEI7SUFEdkM7UUFFRSx1QkFBdUI7UUFDSCxZQUFPLEdBQTZCLEVBQUUsQ0FBQztRQUVuRCxXQUFNLEdBQWEsS0FBSyxDQUFDO1FBQ3pCLFlBQU8sR0FBWSxzQkFBc0IsQ0FBQztJQWdFcEQsQ0FBQztJQTlEQzs7Ozs7Ozs7T0FRRztJQUNILElBQXNCLEtBQUssQ0FBQyxLQUFjO1FBQ3hDLElBQUksQ0FBQyxNQUFNLEdBQVEsS0FBSyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUFFRDs7Ozs7Ozs7OztPQVVHO0lBQ0gsSUFBdUIsTUFBTSxDQUFDLEtBQWE7UUFDekMsSUFBSSxDQUFDLE9BQU8sR0FBUyxNQUFPLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLHNCQUFzQixDQUFDO1FBRTFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxJQUFJLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDdEIsQ0FBQztJQUVELGFBQWEsQ0FBQyxhQUFnQyxFQUFFLFdBQW1CO1FBQ2pFLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUU7WUFDOUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQ2xCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLEtBQUssS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQy9GLENBQUM7U0FDSDthQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUU7WUFDdkQsYUFBYSxDQUFDLFFBQVEsR0FBRyxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7U0FDbEQ7SUFDSCxDQUFDO0lBRU8sY0FBYyxDQUFDLFVBQWtCO1FBQ3ZDLElBQUksVUFBVSxLQUFLLG1CQUFtQixDQUFDLElBQUksRUFBRTtZQUMzQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztTQUMzQjthQUFNLElBQUksVUFBVSxLQUFLLG1CQUFtQixDQUFDLE1BQU0sRUFBRTtZQUNwRCxNQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7WUFDckYsSUFBSSxrQkFBa0IsRUFBRTtnQkFDdEIsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7YUFDM0I7U0FDRjtJQUNILENBQUM7SUFFTyxrQkFBa0I7UUFDeEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUM1RCxDQUFDOzs7WUFyRUYsU0FBUzs7O3NCQUdQLEtBQUssU0FBQyxXQUFXO29CQWNqQixLQUFLLFNBQUMsU0FBUztxQkFtQmYsS0FBSyxTQUFDLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnB1dCwgRGlyZWN0aXZlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IGNvbnZlcnRUb0Jvb2xlYW4gfSBmcm9tICcuLi8uLi91dGlscy91dGlsJztcbmltcG9ydCB7IFBvQnV0dG9uR3JvdXBJdGVtIH0gZnJvbSAnLi9wby1idXR0b24tZ3JvdXAtaXRlbS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUG9CdXR0b25Hcm91cFRvZ2dsZSB9IGZyb20gJy4vcG8tYnV0dG9uLWdyb3VwLXRvZ2dsZS5lbnVtJztcblxuY29uc3QgUE9fVE9HR0xFX1RZUEVfREVGQVVMVCA9ICdub25lJztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBPIGNvbXBvbmVudGUgYHBvLWJ1dHRvbi1ncm91cGAgw6kgZm9ybWFkbyBwb3IgdW0gY29uanVudG8gZGUgYm90w7VlcyBkaXN0cmlidcOtZG9zIGhvcml6b250YWxtZW50ZS5cbiAqIENhZGEgYm90w6NvIGRvIGdydXBvIMOpIHRyYXRhZG8gZGUgZm9ybWEgaW5kaXZpZHVhbCwgcmVjZWJlbmRvIGFzc2ltIHVtIHLDs3R1bG8sIHVtYSBhw6fDo28gYmVtIGNvbW8gc2UgZGV2ZXLDoSBlc3RhciBoYWJpbGl0YWRvIG91IG7Do28uXG4gKlxuICogRXN0ZSBjb21wb25lbnRlIGFsw6ltIGRlIHNlcnZpciBjb21vIHVtIGFncnVwYWRvciBkZSBib3TDtWVzIHBhcmEgYcOnw6NvLCB0YW1iw6ltIHBlcm1pdGUgcXVlIHNlamFtIHV0aWxpemFkb3NcbiAqIHBhcmEgc2VsZcOnw7VlcyBtdWx0aXBsYXMgZSDDum5pY2FzLlxuICpcbiAqIE8gZ3J1cG8gZGUgYm90w7VlcyBkZXZlIHNlciB1dGlsaXphZG8gcGFyYSBvcmdhbml6YXIgYXMgYcOnw7VlcyBkZSBtYW5laXJhIHVuaWZvcm1lIGUgdHJhbnNtaXRpciBhIGlkZWlhIGRlIHF1ZSBvcyBib3TDtWVzIGZhemVtXG4gKiBwYXJ0ZSBkZSB1bSBtZXNtbyBjb250ZXh0by5cbiAqXG4gKiAjIyMjIEJvYXMgcHLDoXRpY2FzXG4gKlxuICogLSBFdml0ZSB1c2FyIG8gYHBvLWJ1dHRvbi1ncm91cGAgY29tIGFwZW5hcyAxIGHDp8OjbywgcGFyYSBpc3NvIHV0aWxpemUgbyBgcG8tYnV0dG9uYC5cbiAqIC0gUHJvY3VyZSB1dGlsaXphciBubyBtw6F4aW1vIDMgYcOnw7VlcyBwYXJhIGNhZGEgYHBvLWJ1dHRvbi1ncm91cGAuXG4gKlxuICogPiBBcyByZWNvbWVuZGHDp8O1ZXMgZG8gYHBvLWJ1dHRvbmAgdGFtYsOpbSB2YWxlbSBwYXJhIG8gYHBvLWJ1dHRvbi1ncm91cGAuXG4gKi9cbkBEaXJlY3RpdmUoKVxuZXhwb3J0IGNsYXNzIFBvQnV0dG9uR3JvdXBCYXNlQ29tcG9uZW50IHtcbiAgLyoqIExpc3RhIGRlIGJvdMO1ZXMuICovXG4gIEBJbnB1dCgncC1idXR0b25zJykgYnV0dG9uczogQXJyYXk8UG9CdXR0b25Hcm91cEl0ZW0+ID0gW107XG5cbiAgcHJpdmF0ZSBfc21hbGw/OiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX3RvZ2dsZT86IHN0cmluZyA9IFBPX1RPR0dMRV9UWVBFX0RFRkFVTFQ7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogVG9ybmEgbyBncnVwbyBkZSBib3TDtWVzIGNvbSB0YW1hbmhvIG1pbmlmaWNhZG8uXG4gICAqXG4gICAqIEBkZWZhdWx0IGBmYWxzZWBcbiAgICovXG4gIEBJbnB1dCgncC1zbWFsbCcpIHNldCBzbWFsbCh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX3NtYWxsID0gPGFueT52YWx1ZSA9PT0gJycgPyB0cnVlIDogY29udmVydFRvQm9vbGVhbih2YWx1ZSk7XG4gIH1cblxuICBnZXQgc21hbGwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3NtYWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVmaW5lIG8gbW9kbyBkZSBzZWxlw6fDo28gZGUgYm90w7Vlcy5cbiAgICpcbiAgICogPiBWZWphIG9zIHZhbG9yZXMgdsOhbGlkb3Mgbm8gKmVudW0qIGBQb011bHRpc2VsZWN0RmlsdGVyTW9kZWAuXG4gICAqXG4gICAqIEBkZWZhdWx0IGBub25lYFxuICAgKi9cbiAgQElucHV0KCdwLXRvZ2dsZScpIHNldCB0b2dnbGUodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3RvZ2dsZSA9ICg8YW55Pk9iamVjdCkudmFsdWVzKFBvQnV0dG9uR3JvdXBUb2dnbGUpLmluY2x1ZGVzKHZhbHVlKSA/IHZhbHVlIDogUE9fVE9HR0xFX1RZUEVfREVGQVVMVDtcblxuICAgIHRoaXMuY2hlY2tTZWxlY3RlZHModGhpcy5fdG9nZ2xlKTtcbiAgfVxuXG4gIGdldCB0b2dnbGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fdG9nZ2xlO1xuICB9XG5cbiAgb25CdXR0b25DbGljayhidXR0b25DbGlja2VkOiBQb0J1dHRvbkdyb3VwSXRlbSwgYnV0dG9uSW5kZXg6IG51bWJlcikge1xuICAgIGlmICh0aGlzLnRvZ2dsZSA9PT0gUG9CdXR0b25Hcm91cFRvZ2dsZS5TaW5nbGUpIHtcbiAgICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKFxuICAgICAgICAoYnV0dG9uLCBpbmRleCkgPT4gKGJ1dHRvbi5zZWxlY3RlZCA9IGluZGV4ID09PSBidXR0b25JbmRleCA/ICFidXR0b25DbGlja2VkLnNlbGVjdGVkIDogZmFsc2UpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy50b2dnbGUgPT09IFBvQnV0dG9uR3JvdXBUb2dnbGUuTXVsdGlwbGUpIHtcbiAgICAgIGJ1dHRvbkNsaWNrZWQuc2VsZWN0ZWQgPSAhYnV0dG9uQ2xpY2tlZC5zZWxlY3RlZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNoZWNrU2VsZWN0ZWRzKHRvZ2dsZU1vZGU6IHN0cmluZykge1xuICAgIGlmICh0b2dnbGVNb2RlID09PSBQb0J1dHRvbkdyb3VwVG9nZ2xlLk5vbmUpIHtcbiAgICAgIHRoaXMuZGVzZWxlY3RBbGxCdXR0b25zKCk7XG4gICAgfSBlbHNlIGlmICh0b2dnbGVNb2RlID09PSBQb0J1dHRvbkdyb3VwVG9nZ2xlLlNpbmdsZSkge1xuICAgICAgY29uc3QgaGFzTW9yZU9uZVNlbGVjdGVkID0gdGhpcy5idXR0b25zLmZpbHRlcihidXR0b24gPT4gYnV0dG9uLnNlbGVjdGVkKS5sZW5ndGggPiAxO1xuICAgICAgaWYgKGhhc01vcmVPbmVTZWxlY3RlZCkge1xuICAgICAgICB0aGlzLmRlc2VsZWN0QWxsQnV0dG9ucygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZGVzZWxlY3RBbGxCdXR0b25zKCkge1xuICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiAoYnV0dG9uLnNlbGVjdGVkID0gZmFsc2UpKTtcbiAgfVxufVxuIl19