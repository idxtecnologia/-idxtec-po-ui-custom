import { Component, EventEmitter, Input, Output } from '@angular/core';
import { browserLanguage, convertToBoolean, isTypeof } from './../../../utils/util';
import { poLocaleDefault } from './../../../services/po-language/po-language.constant';
import { PoStepperOrientation } from '../enums/po-stepper-orientation.enum';
import { PoStepperStatus } from '../enums/po-stepper-status.enum';
const poStepperStepSizeDefault = 24;
const poStepperStepSizeMax = 64;
const poStepLiteralsDefault = {
    en: { label: 'Step' },
    es: { label: 'Paso' },
    pt: { label: 'Passo' }
};
/**
 * @docsPrivate
 *
 * @description
 *
 * Componente que representa um *step* contendo as ligações das laterais (`po-stepper-step-bar`) e a label.
 */
export class PoStepperStepComponent {
    constructor() {
        // Evento que será emitido quando o status do *step* estiver ativo (`PoStepperStatus.Active`).
        this.activated = new EventEmitter();
        // Evento que será emitido ao clicar no *step*.
        this.click = new EventEmitter();
        // Evento que será emitido ao focar no *step* e pressionar a tecla *enter*.
        this.enter = new EventEmitter();
        this.literals = Object.assign(Object.assign({}, poStepLiteralsDefault[poLocaleDefault]), poStepLiteralsDefault[browserLanguage()]);
        this._stepIcons = false;
        this._stepSize = poStepperStepSizeDefault;
    }
    // Label do *step*.
    set label(value) {
        this._label = isTypeof(value, 'string') ? value : `${this.literals.label} ${this.circleContent}`;
    }
    get label() {
        return this._label;
    }
    // Define o estado de exibição.
    set status(value) {
        this._status = value ? value : undefined;
        if (this.status === PoStepperStatus.Active) {
            this.activated.emit();
        }
    }
    get status() {
        return this._status;
    }
    set stepIcons(stepIcons) {
        this._stepIcons = convertToBoolean(stepIcons);
    }
    get stepIcons() {
        return this._stepIcons;
    }
    // Tamanho do `step` em *pixels*, possibilitando um maior destaque.
    // O valor informado deve ser entre `24` e `64`.
    set stepSize(value) {
        this._stepSize =
            value >= poStepperStepSizeDefault && value <= poStepperStepSizeMax ? value : poStepperStepSizeDefault;
    }
    get stepSize() {
        return this._stepSize;
    }
    get halfStepSize() {
        return this.stepSize / 2;
    }
    get isVerticalOrientation() {
        return this.orientation === PoStepperOrientation.Vertical;
    }
    get marginHorizontalBar() {
        return this.isVerticalOrientation ? undefined : this.halfStepSize;
    }
    getStatusClass(status) {
        switch (status) {
            case PoStepperStatus.Active:
                return 'po-stepper-step-default';
            case PoStepperStatus.Disabled:
                return 'po-stepper-step-disabled';
            case PoStepperStatus.Done:
                return 'po-stepper-step-default';
            case PoStepperStatus.Error:
                return 'po-stepper-step-error';
            default:
                return 'po-stepper-step-default';
        }
    }
    onClick() {
        if (this.status !== PoStepperStatus.Disabled) {
            this.click.emit();
        }
    }
    onEnter() {
        if (this.status !== PoStepperStatus.Disabled) {
            this.enter.emit();
        }
    }
}
PoStepperStepComponent.decorators = [
    { type: Component, args: [{
                selector: 'po-stepper-step',
                template: "<div class=\"po-stepper-step\" [ngClass]=\"getStatusClass(status)\" (click)=\"onClick()\" (keydown.enter)=\"onEnter()\">\n  <div class=\"po-stepper-step-container\" [style.width.px]=\"isVerticalOrientation ? stepSize : undefined\">\n    <div\n      [class.po-stepper-step-bar-top]=\"isVerticalOrientation\"\n      [class.po-stepper-step-bar-left]=\"!isVerticalOrientation\"\n      [style.margin-right.px]=\"marginHorizontalBar\"\n    ></div>\n\n    <po-stepper-circle [p-content]=\"circleContent\" [p-icons]=\"stepIcons\" [p-size]=\"stepSize\" [p-status]=\"status\">\n    </po-stepper-circle>\n\n    <div\n      [class.po-stepper-step-bar-bottom]=\"isVerticalOrientation\"\n      [class.po-stepper-step-bar-right]=\"!isVerticalOrientation\"\n      [class.po-stepper-step-dashed-border]=\"nextStatus === 'disabled' && !isVerticalOrientation\"\n      [class.po-stepper-step-dashed-border-vertical]=\"nextStatus === 'disabled' && isVerticalOrientation\"\n      [style.margin-left.px]=\"marginHorizontalBar\"\n    ></div>\n  </div>\n\n  <po-stepper-label class=\"po-stepper-step-label-position\" [p-content]=\"label\"> </po-stepper-label>\n</div>\n"
            },] }
];
PoStepperStepComponent.propDecorators = {
    circleContent: [{ type: Input, args: ['p-circle-content',] }],
    orientation: [{ type: Input, args: ['p-orientation',] }],
    nextStatus: [{ type: Input, args: ['p-next-status',] }],
    activated: [{ type: Output, args: ['p-activated',] }],
    click: [{ type: Output, args: ['p-click',] }],
    enter: [{ type: Output, args: ['p-enter',] }],
    label: [{ type: Input, args: ['p-label',] }],
    status: [{ type: Input, args: ['p-status',] }],
    stepIcons: [{ type: Input, args: ['p-step-icons',] }],
    stepSize: [{ type: Input, args: ['p-step-size',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tc3RlcHBlci1zdGVwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvY29tcG9uZW50cy9wby1zdGVwcGVyL3BvLXN0ZXBwZXItc3RlcC9wby1zdGVwcGVyLXN0ZXAuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFdkUsT0FBTyxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNwRixPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sc0RBQXNELENBQUM7QUFDdkYsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFDNUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBRWxFLE1BQU0sd0JBQXdCLEdBQUcsRUFBRSxDQUFDO0FBQ3BDLE1BQU0sb0JBQW9CLEdBQUcsRUFBRSxDQUFDO0FBQ2hDLE1BQU0scUJBQXFCLEdBQUc7SUFDNUIsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtJQUNyQixFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQ3JCLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUU7Q0FDdkIsQ0FBQztBQUVGOzs7Ozs7R0FNRztBQUtILE1BQU0sT0FBTyxzQkFBc0I7SUFKbkM7UUFjRSw4RkFBOEY7UUFDdkUsY0FBUyxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7UUFFM0QsK0NBQStDO1FBQzVCLFVBQUssR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO1FBRW5ELDJFQUEyRTtRQUN4RCxVQUFLLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUUxQyxhQUFR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LEVBQUUsQ0FBQztTQUNuQjtJQUNILENBQUM7OztZQS9HRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLGlCQUFpQjtnQkFDM0Isb29DQUE2QzthQUM5Qzs7OzRCQUdFLEtBQUssU0FBQyxrQkFBa0I7MEJBR3hCLEtBQUssU0FBQyxlQUFlO3lCQUdyQixLQUFLLFNBQUMsZUFBZTt3QkFHckIsTUFBTSxTQUFDLGFBQWE7b0JBR3BCLE1BQU0sU0FBQyxTQUFTO29CQUdoQixNQUFNLFNBQUMsU0FBUztvQkFhaEIsS0FBSyxTQUFDLFNBQVM7cUJBU2YsS0FBSyxTQUFDLFVBQVU7d0JBWWhCLEtBQUssU0FBQyxjQUFjO3VCQVVwQixLQUFLLFNBQUMsYUFBYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IGJyb3dzZXJMYW5ndWFnZSwgY29udmVydFRvQm9vbGVhbiwgaXNUeXBlb2YgfSBmcm9tICcuLy4uLy4uLy4uL3V0aWxzL3V0aWwnO1xuaW1wb3J0IHsgcG9Mb2NhbGVEZWZhdWx0IH0gZnJvbSAnLi8uLi8uLi8uLi9zZXJ2aWNlcy9wby1sYW5ndWFnZS9wby1sYW5ndWFnZS5jb25zdGFudCc7XG5pbXBvcnQgeyBQb1N0ZXBwZXJPcmllbnRhdGlvbiB9IGZyb20gJy4uL2VudW1zL3BvLXN0ZXBwZXItb3JpZW50YXRpb24uZW51bSc7XG5pbXBvcnQgeyBQb1N0ZXBwZXJTdGF0dXMgfSBmcm9tICcuLi9lbnVtcy9wby1zdGVwcGVyLXN0YXR1cy5lbnVtJztcblxuY29uc3QgcG9TdGVwcGVyU3RlcFNpemVEZWZhdWx0ID0gMjQ7XG5jb25zdCBwb1N0ZXBwZXJTdGVwU2l6ZU1heCA9IDY0O1xuY29uc3QgcG9TdGVwTGl0ZXJhbHNEZWZhdWx0ID0ge1xuICBlbjogeyBsYWJlbDogJ1N0ZXAnIH0sXG4gIGVzOiB7IGxhYmVsOiAnUGFzbycgfSxcbiAgcHQ6IHsgbGFiZWw6ICdQYXNzbycgfVxufTtcblxuLyoqXG4gKiBAZG9jc1ByaXZhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBDb21wb25lbnRlIHF1ZSByZXByZXNlbnRhIHVtICpzdGVwKiBjb250ZW5kbyBhcyBsaWdhw6fDtWVzIGRhcyBsYXRlcmFpcyAoYHBvLXN0ZXBwZXItc3RlcC1iYXJgKSBlIGEgbGFiZWwuXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BvLXN0ZXBwZXItc3RlcCcsXG4gIHRlbXBsYXRlVXJsOiAncG8tc3RlcHBlci1zdGVwLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBQb1N0ZXBwZXJTdGVwQ29tcG9uZW50IHtcbiAgLy8gQ29udGXDumRvIHF1ZSBzZXLDoSByZXBhc3NhZG8gcGFyYSBvIGNvbXBvbmVudGUgYHAtY2lyY2xlLWNvbnRlbnRgIGF0cmF2w6lzIGRhIHByb3ByaWVkYWRlIGBwLWNvbnRlbnRgLlxuICBASW5wdXQoJ3AtY2lyY2xlLWNvbnRlbnQnKSBjaXJjbGVDb250ZW50OiBhbnk7XG5cbiAgLy8gRGVmaW5lIGEgb3JpZW50YcOnw6NvIGRlIGV4aWJpw6fDo28uXG4gIEBJbnB1dCgncC1vcmllbnRhdGlvbicpIG9yaWVudGF0aW9uOiBQb1N0ZXBwZXJPcmllbnRhdGlvbjtcblxuICAvLyBJbmZvcm1hIG8gc3RhdHVzIGRhIHByb3hpbWEgZXRhcGEuXG4gIEBJbnB1dCgncC1uZXh0LXN0YXR1cycpIG5leHRTdGF0dXM7XG5cbiAgLy8gRXZlbnRvIHF1ZSBzZXLDoSBlbWl0aWRvIHF1YW5kbyBvIHN0YXR1cyBkbyAqc3RlcCogZXN0aXZlciBhdGl2byAoYFBvU3RlcHBlclN0YXR1cy5BY3RpdmVgKS5cbiAgQE91dHB1dCgncC1hY3RpdmF0ZWQnKSBhY3RpdmF0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAvLyBFdmVudG8gcXVlIHNlcsOhIGVtaXRpZG8gYW8gY2xpY2FyIG5vICpzdGVwKi5cbiAgQE91dHB1dCgncC1jbGljaycpIGNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgLy8gRXZlbnRvIHF1ZSBzZXLDoSBlbWl0aWRvIGFvIGZvY2FyIG5vICpzdGVwKiBlIHByZXNzaW9uYXIgYSB0ZWNsYSAqZW50ZXIqLlxuICBAT3V0cHV0KCdwLWVudGVyJykgZW50ZXIgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICByZWFkb25seSBsaXRlcmFscyA9IHtcbiAgICAuLi5wb1N0ZXBMaXRlcmFsc0RlZmF1bHRbcG9Mb2NhbGVEZWZhdWx0XSxcbiAgICAuLi5wb1N0ZXBMaXRlcmFsc0RlZmF1bHRbYnJvd3Nlckxhbmd1YWdlKCldXG4gIH07XG5cbiAgcHJpdmF0ZSBfbGFiZWw6IHN0cmluZztcbiAgcHJpdmF0ZSBfc3RhdHVzOiBQb1N0ZXBwZXJTdGF0dXM7XG4gIHByaXZhdGUgX3N0ZXBJY29ucz86IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfc3RlcFNpemU6IG51bWJlciA9IHBvU3RlcHBlclN0ZXBTaXplRGVmYXVsdDtcblxuICAvLyBMYWJlbCBkbyAqc3RlcCouXG4gIEBJbnB1dCgncC1sYWJlbCcpIHNldCBsYWJlbCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fbGFiZWwgPSBpc1R5cGVvZih2YWx1ZSwgJ3N0cmluZycpID8gdmFsdWUgOiBgJHt0aGlzLmxpdGVyYWxzLmxhYmVsfSAke3RoaXMuY2lyY2xlQ29udGVudH1gO1xuICB9XG5cbiAgZ2V0IGxhYmVsKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2xhYmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIG8gZXN0YWRvIGRlIGV4aWJpw6fDo28uXG4gIEBJbnB1dCgncC1zdGF0dXMnKSBzZXQgc3RhdHVzKHZhbHVlOiBQb1N0ZXBwZXJTdGF0dXMpIHtcbiAgICB0aGlzLl9zdGF0dXMgPSAodmFsdWUgYXMgc3RyaW5nKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBQb1N0ZXBwZXJTdGF0dXMuQWN0aXZlKSB7XG4gICAgICB0aGlzLmFjdGl2YXRlZC5lbWl0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHN0YXR1cygpOiBQb1N0ZXBwZXJTdGF0dXMge1xuICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gIH1cblxuICBASW5wdXQoJ3Atc3RlcC1pY29ucycpIHNldCBzdGVwSWNvbnMoc3RlcEljb25zOiBib29sZWFuKSB7XG4gICAgdGhpcy5fc3RlcEljb25zID0gY29udmVydFRvQm9vbGVhbihzdGVwSWNvbnMpO1xuICB9XG5cbiAgZ2V0IHN0ZXBJY29ucygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fc3RlcEljb25zO1xuICB9XG5cbiAgLy8gVGFtYW5obyBkbyBgc3RlcGAgZW0gKnBpeGVscyosIHBvc3NpYmlsaXRhbmRvIHVtIG1haW9yIGRlc3RhcXVlLlxuICAvLyBPIHZhbG9yIGluZm9ybWFkbyBkZXZlIHNlciBlbnRyZSBgMjRgIGUgYDY0YC5cbiAgQElucHV0KCdwLXN0ZXAtc2l6ZScpIHNldCBzdGVwU2l6ZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5fc3RlcFNpemUgPVxuICAgICAgdmFsdWUgPj0gcG9TdGVwcGVyU3RlcFNpemVEZWZhdWx0ICYmIHZhbHVlIDw9IHBvU3RlcHBlclN0ZXBTaXplTWF4ID8gdmFsdWUgOiBwb1N0ZXBwZXJTdGVwU2l6ZURlZmF1bHQ7XG4gIH1cblxuICBnZXQgc3RlcFNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fc3RlcFNpemU7XG4gIH1cblxuICBnZXQgaGFsZlN0ZXBTaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcFNpemUgLyAyO1xuICB9XG5cbiAgZ2V0IGlzVmVydGljYWxPcmllbnRhdGlvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5vcmllbnRhdGlvbiA9PT0gUG9TdGVwcGVyT3JpZW50YXRpb24uVmVydGljYWw7XG4gIH1cblxuICBnZXQgbWFyZ2luSG9yaXpvbnRhbEJhcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmlzVmVydGljYWxPcmllbnRhdGlvbiA/IHVuZGVmaW5lZCA6IHRoaXMuaGFsZlN0ZXBTaXplO1xuICB9XG5cbiAgZ2V0U3RhdHVzQ2xhc3Moc3RhdHVzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICBjYXNlIFBvU3RlcHBlclN0YXR1cy5BY3RpdmU6XG4gICAgICAgIHJldHVybiAncG8tc3RlcHBlci1zdGVwLWRlZmF1bHQnO1xuICAgICAgY2FzZSBQb1N0ZXBwZXJTdGF0dXMuRGlzYWJsZWQ6XG4gICAgICAgIHJldHVybiAncG8tc3RlcHBlci1zdGVwLWRpc2FibGVkJztcbiAgICAgIGNhc2UgUG9TdGVwcGVyU3RhdHVzLkRvbmU6XG4gICAgICAgIHJldHVybiAncG8tc3RlcHBlci1zdGVwLWRlZmF1bHQnO1xuICAgICAgY2FzZSBQb1N0ZXBwZXJTdGF0dXMuRXJyb3I6XG4gICAgICAgIHJldHVybiAncG8tc3RlcHBlci1zdGVwLWVycm9yJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAncG8tc3RlcHBlci1zdGVwLWRlZmF1bHQnO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2xpY2soKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSBQb1N0ZXBwZXJTdGF0dXMuRGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuY2xpY2suZW1pdCgpO1xuICAgIH1cbiAgfVxuXG4gIG9uRW50ZXIoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSBQb1N0ZXBwZXJTdGF0dXMuRGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuZW50ZXIuZW1pdCgpO1xuICAgIH1cbiAgfVxufVxuIl19