import { Input, EventEmitter, Directive } from '@angular/core';
import { convertToBoolean } from './../../utils/util';
import { PoLanguageService } from '../../services/po-language/po-language.service';
import { poModalLiterals } from './po-modal.literals';
/**
 * @description
 *
 * O componente `po-modal` é utilizado para incluir conteúdos rápidos e informativos.
 *
 * No cabeçalho do componente é possível definir um título e como também permite ocultar o ícone de fechamento da modal.
 *
 * Em seu corpo é possível definir um conteúdo informativo, podendo utilizar componentes como por exemplo `po-chart`,
 * `po-table` e os demais componentes do PO.
 *
 * No rodapé encontram-se os botões de ação primária e secundária, no qual permitem definir uma ação e um rótulo, bem como
 * definir um estado de carregando e / ou desabilitado e / ou definir o botão com o tipo *danger*. Também é possível utilizar
 * o componente [`PoModalFooter`](/documentation/po-modal-footer).
 *
 * > É possível fechar a modal através da tecla *ESC*, quando a propriedade `p-hide-close` não estiver habilitada.
 */
export class PoModalBaseComponent {
    constructor(poLanguageService) {
        // Controla se a modal fica oculto ou visível, por padrão é oculto
        this.isHidden = true;
        // Event emmiter para quando a modal é fechada pelo 'X'.
        this.onXClosed = new EventEmitter();
        this._hideClose = false;
        this._size = 'md';
        /**
         * Define o fechamento da modal ao clicar fora da mesma.
         * Informe o valor `true` para ativar o fechamento ao clicar fora da modal.
         */
        // eslint-disable-next-line @typescript-eslint/member-ordering
        this.clickOut = false;
        this.language = poLanguageService.getShortLanguage();
        this.literals = Object.assign({}, poModalLiterals[this.language]);
    }
    /**
     * Define o tamanho da modal.
     *
     * Valores válidos:
     *  - `sm` (pequeno)
     *  - `md` (médio)
     *  - `lg` (grande)
     *  - `xl` (extra grande)
     *  - `auto` (automático)
     *
     * > Quando informado `auto` a modal calculará automaticamente seu tamanho baseado em seu conteúdo.
     * Caso não seja informado um valor, a modal terá o tamanho definido como `md`.
     *
     * > Todas as opções de tamanho possuem uma largura máxima de **768px**.
     */
    set size(value) {
        const sizes = ['sm', 'md', 'lg', 'xl', 'auto'];
        this._size = sizes.indexOf(value) > -1 ? value : 'md';
    }
    get size() {
        return this._size;
    }
    set setClickOut(value) {
        this.clickOut = value === '' ? false : convertToBoolean(value);
    }
    /**
     * @optional
     *
     * @description
     *
     * Oculta o ícone de fechar do cabeçalho da modal.
     *
     * > Caso a propriedade estiver habilitada, não será possível fechar a modal através da tecla *ESC*.
     *
     * @default `false`
     */
    set hideClose(value) {
        this._hideClose = convertToBoolean(value);
    }
    get hideClose() {
        return this._hideClose;
    }
    /** Função para fechar a modal. */
    close(xClosed = false) {
        this.isHidden = true;
        if (xClosed) {
            this.onXClosed.emit(xClosed);
        }
    }
    /** Função para abrir a modal. */
    open() {
        this.validPrimaryAction();
        this.isHidden = false;
    }
    validPrimaryAction() {
        if (!this.primaryAction) {
            this.primaryAction = {
                action: () => this.close(),
                label: this.literals.close
            };
        }
        if (!this.primaryAction['action']) {
            this.primaryAction['action'] = () => this.close();
        }
        if (!this.primaryAction['label']) {
            this.primaryAction['label'] = this.literals.close;
        }
    }
}
PoModalBaseComponent.decorators = [
    { type: Directive }
];
PoModalBaseComponent.ctorParameters = () => [
    { type: PoLanguageService }
];
PoModalBaseComponent.propDecorators = {
    title: [{ type: Input, args: ['p-title',] }],
    primaryAction: [{ type: Input, args: ['p-primary-action',] }],
    secondaryAction: [{ type: Input, args: ['p-secondary-action',] }],
    size: [{ type: Input, args: ['p-size',] }],
    setClickOut: [{ type: Input, args: ['p-click-out',] }],
    hideClose: [{ type: Input, args: ['p-hide-close',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tbW9kYWwtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy91aS9zcmMvbGliL2NvbXBvbmVudHMvcG8tbW9kYWwvcG8tbW9kYWwtYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRS9ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBR3RELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBQ25GLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUV0RDs7Ozs7Ozs7Ozs7Ozs7O0dBZUc7QUFFSCxNQUFNLE9BQU8sb0JBQW9CO0lBK0UvQixZQUFZLGlCQUFvQztRQTlEaEQsa0VBQWtFO1FBQ2xFLGFBQVEsR0FBRyxJQUFJLENBQUM7UUFFaEIsd0RBQXdEO1FBQ2pELGNBQVMsR0FBRyxJQUFJLFlBQVksRUFBVyxDQUFDO1FBRXZDLGVBQVUsR0FBYSxLQUFLLENBQUM7UUFDN0IsVUFBSyxHQUFZLElBQUksQ0FBQztRQTBCOUI7OztXQUdHO1FBQ0gsOERBQThEO1FBQzlELGFBQVEsR0FBYSxLQUFLLENBQUM7UUF5QnpCLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUVyRCxJQUFJLENBQUMsUUFBUSxxQkFDUixlQUFlLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUNsQyxDQUFDO0lBQ0osQ0FBQztJQTNERDs7Ozs7Ozs7Ozs7Ozs7T0FjRztJQUNILElBQXFCLElBQUksQ0FBQyxLQUFhO1FBQ3JDLE1BQU0sS0FBSyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDeEQsQ0FBQztJQUVELElBQUksSUFBSTtRQUNOLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBUUQsSUFBMEIsV0FBVyxDQUFDLEtBQXVCO1FBQzNELElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBRUQ7Ozs7Ozs7Ozs7T0FVRztJQUNILElBQTJCLFNBQVMsQ0FBQyxLQUFjO1FBQ2pELElBQUksQ0FBQyxVQUFVLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVELElBQUksU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QixDQUFDO0lBVUQsa0NBQWtDO0lBQ2xDLEtBQUssQ0FBQyxPQUFPLEdBQUcsS0FBSztRQUNuQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLE9BQU8sRUFBRTtZQUNYLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzlCO0lBQ0gsQ0FBQztJQUVELGlDQUFpQztJQUNqQyxJQUFJO1FBQ0YsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFFMUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVELGtCQUFrQjtRQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUN2QixJQUFJLENBQUMsYUFBYSxHQUFHO2dCQUNuQixNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDMUIsS0FBSyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSzthQUMzQixDQUFDO1NBQ0g7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNqQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUNuRDtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7U0FDbkQ7SUFDSCxDQUFDOzs7WUFySEYsU0FBUzs7O1lBbkJELGlCQUFpQjs7O29CQXNCdkIsS0FBSyxTQUFDLFNBQVM7NEJBT2YsS0FBSyxTQUFDLGtCQUFrQjs4QkFHeEIsS0FBSyxTQUFDLG9CQUFvQjttQkE2QjFCLEtBQUssU0FBQyxRQUFROzBCQWVkLEtBQUssU0FBQyxhQUFhO3dCQWVuQixLQUFLLFNBQUMsY0FBYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElucHV0LCBFdmVudEVtaXR0ZXIsIERpcmVjdGl2ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuIH0gZnJvbSAnLi8uLi8uLi91dGlscy91dGlsJztcbmltcG9ydCB7IFBvTW9kYWxBY3Rpb24gfSBmcm9tICcuL3BvLW1vZGFsLWFjdGlvbi5pbnRlcmZhY2UnO1xuXG5pbXBvcnQgeyBQb0xhbmd1YWdlU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3BvLWxhbmd1YWdlL3BvLWxhbmd1YWdlLnNlcnZpY2UnO1xuaW1wb3J0IHsgcG9Nb2RhbExpdGVyYWxzIH0gZnJvbSAnLi9wby1tb2RhbC5saXRlcmFscyc7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogTyBjb21wb25lbnRlIGBwby1tb2RhbGAgw6kgdXRpbGl6YWRvIHBhcmEgaW5jbHVpciBjb250ZcO6ZG9zIHLDoXBpZG9zIGUgaW5mb3JtYXRpdm9zLlxuICpcbiAqIE5vIGNhYmXDp2FsaG8gZG8gY29tcG9uZW50ZSDDqSBwb3Nzw612ZWwgZGVmaW5pciB1bSB0w610dWxvIGUgY29tbyB0YW1iw6ltIHBlcm1pdGUgb2N1bHRhciBvIMOtY29uZSBkZSBmZWNoYW1lbnRvIGRhIG1vZGFsLlxuICpcbiAqIEVtIHNldSBjb3JwbyDDqSBwb3Nzw612ZWwgZGVmaW5pciB1bSBjb250ZcO6ZG8gaW5mb3JtYXRpdm8sIHBvZGVuZG8gdXRpbGl6YXIgY29tcG9uZW50ZXMgY29tbyBwb3IgZXhlbXBsbyBgcG8tY2hhcnRgLFxuICogYHBvLXRhYmxlYCBlIG9zIGRlbWFpcyBjb21wb25lbnRlcyBkbyBQTy5cbiAqXG4gKiBObyByb2RhcMOpIGVuY29udHJhbS1zZSBvcyBib3TDtWVzIGRlIGHDp8OjbyBwcmltw6FyaWEgZSBzZWN1bmTDoXJpYSwgbm8gcXVhbCBwZXJtaXRlbSBkZWZpbmlyIHVtYSBhw6fDo28gZSB1bSByw7N0dWxvLCBiZW0gY29tb1xuICogZGVmaW5pciB1bSBlc3RhZG8gZGUgY2FycmVnYW5kbyBlIC8gb3UgZGVzYWJpbGl0YWRvIGUgLyBvdSBkZWZpbmlyIG8gYm90w6NvIGNvbSBvIHRpcG8gKmRhbmdlciouIFRhbWLDqW0gw6kgcG9zc8OtdmVsIHV0aWxpemFyXG4gKiBvIGNvbXBvbmVudGUgW2BQb01vZGFsRm9vdGVyYF0oL2RvY3VtZW50YXRpb24vcG8tbW9kYWwtZm9vdGVyKS5cbiAqXG4gKiA+IMOJIHBvc3PDrXZlbCBmZWNoYXIgYSBtb2RhbCBhdHJhdsOpcyBkYSB0ZWNsYSAqRVNDKiwgcXVhbmRvIGEgcHJvcHJpZWRhZGUgYHAtaGlkZS1jbG9zZWAgbsOjbyBlc3RpdmVyIGhhYmlsaXRhZGEuXG4gKi9cbkBEaXJlY3RpdmUoKVxuZXhwb3J0IGNsYXNzIFBvTW9kYWxCYXNlQ29tcG9uZW50IHtcbiAgLyoqIFTDrXR1bG8gZGEgbW9kYWwuICovXG4gIEBJbnB1dCgncC10aXRsZScpIHRpdGxlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIERldmUgc2VyIGRlZmluaWRvIHVtIG9iamV0byBxdWUgaW1wbGVtZW50YSBhIGludGVyZmFjZSBgUG9Nb2RhbEFjdGlvbmAgY29udGVuZG8gYSBsYWJlbCBlIGEgZnVuw6fDo28gZGEgcHJpbWVpcmEgYcOnw6NvLlxuICAgKiBDYXNvIGVzdGEgcHJvcHJpZWRhZGUgbsOjbyBzZWphIGRlZmluaWRhIG91IGVzdGVqYSBpbmNvbXBsZXRhLCBhdXRvbWF0aWNhbWVudGUgc2Vyw6EgYWRpY2lvbmFkbyB1bSBib3TDo28gZGUgYcOnw6NvIGNvbVxuICAgKiBhIGZ1bsOnw6NvIGRlIGZlY2hhciBhIG1vZGFsLlxuICAgKi9cbiAgQElucHV0KCdwLXByaW1hcnktYWN0aW9uJykgcHJpbWFyeUFjdGlvbj86IFBvTW9kYWxBY3Rpb247XG5cbiAgLyoqIERldmUgc2VyIGRlZmluaWRvIHVtIG9iamV0byBxdWUgaW1wbGVtZW50YSBhIGludGVyZmFjZSBgUG9Nb2RhbEFjdGlvbmAgY29udGVuZG8gYSBsYWJlbCBlIGEgZnVuw6fDo28gZGEgc2VndW5kYSBhw6fDo28uICovXG4gIEBJbnB1dCgncC1zZWNvbmRhcnktYWN0aW9uJykgc2Vjb25kYXJ5QWN0aW9uPzogUG9Nb2RhbEFjdGlvbjtcblxuICBsYW5ndWFnZTtcbiAgbGl0ZXJhbHM7XG5cbiAgLy8gQ29udHJvbGEgc2UgYSBtb2RhbCBmaWNhIG9jdWx0byBvdSB2aXPDrXZlbCwgcG9yIHBhZHLDo28gw6kgb2N1bHRvXG4gIGlzSGlkZGVuID0gdHJ1ZTtcblxuICAvLyBFdmVudCBlbW1pdGVyIHBhcmEgcXVhbmRvIGEgbW9kYWwgw6kgZmVjaGFkYSBwZWxvICdYJy5cbiAgcHVibGljIG9uWENsb3NlZCA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcblxuICBwcml2YXRlIF9oaWRlQ2xvc2U/OiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX3NpemU/OiBzdHJpbmcgPSAnbWQnO1xuXG4gIC8qKlxuICAgKiBEZWZpbmUgbyB0YW1hbmhvIGRhIG1vZGFsLlxuICAgKlxuICAgKiBWYWxvcmVzIHbDoWxpZG9zOlxuICAgKiAgLSBgc21gIChwZXF1ZW5vKVxuICAgKiAgLSBgbWRgIChtw6lkaW8pXG4gICAqICAtIGBsZ2AgKGdyYW5kZSlcbiAgICogIC0gYHhsYCAoZXh0cmEgZ3JhbmRlKVxuICAgKiAgLSBgYXV0b2AgKGF1dG9tw6F0aWNvKVxuICAgKlxuICAgKiA+IFF1YW5kbyBpbmZvcm1hZG8gYGF1dG9gIGEgbW9kYWwgY2FsY3VsYXLDoSBhdXRvbWF0aWNhbWVudGUgc2V1IHRhbWFuaG8gYmFzZWFkbyBlbSBzZXUgY29udGXDumRvLlxuICAgKiBDYXNvIG7Do28gc2VqYSBpbmZvcm1hZG8gdW0gdmFsb3IsIGEgbW9kYWwgdGVyw6EgbyB0YW1hbmhvIGRlZmluaWRvIGNvbW8gYG1kYC5cbiAgICpcbiAgICogPiBUb2RhcyBhcyBvcMOnw7VlcyBkZSB0YW1hbmhvIHBvc3N1ZW0gdW1hIGxhcmd1cmEgbcOheGltYSBkZSAqKjc2OHB4KiouXG4gICAqL1xuICBASW5wdXQoJ3Atc2l6ZScpIHNldCBzaXplKHZhbHVlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzaXplcyA9IFsnc20nLCAnbWQnLCAnbGcnLCAneGwnLCAnYXV0byddO1xuICAgIHRoaXMuX3NpemUgPSBzaXplcy5pbmRleE9mKHZhbHVlKSA+IC0xID8gdmFsdWUgOiAnbWQnO1xuICB9XG5cbiAgZ2V0IHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lIG8gZmVjaGFtZW50byBkYSBtb2RhbCBhbyBjbGljYXIgZm9yYSBkYSBtZXNtYS5cbiAgICogSW5mb3JtZSBvIHZhbG9yIGB0cnVlYCBwYXJhIGF0aXZhciBvIGZlY2hhbWVudG8gYW8gY2xpY2FyIGZvcmEgZGEgbW9kYWwuXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L21lbWJlci1vcmRlcmluZ1xuICBjbGlja091dD86IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCdwLWNsaWNrLW91dCcpIHNldCBzZXRDbGlja091dCh2YWx1ZTogYm9vbGVhbiB8IHN0cmluZykge1xuICAgIHRoaXMuY2xpY2tPdXQgPSB2YWx1ZSA9PT0gJycgPyBmYWxzZSA6IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogT2N1bHRhIG8gw61jb25lIGRlIGZlY2hhciBkbyBjYWJlw6dhbGhvIGRhIG1vZGFsLlxuICAgKlxuICAgKiA+IENhc28gYSBwcm9wcmllZGFkZSBlc3RpdmVyIGhhYmlsaXRhZGEsIG7Do28gc2Vyw6EgcG9zc8OtdmVsIGZlY2hhciBhIG1vZGFsIGF0cmF2w6lzIGRhIHRlY2xhICpFU0MqLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoJ3AtaGlkZS1jbG9zZScpIHNldCBoaWRlQ2xvc2UodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9oaWRlQ2xvc2UgPSBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBoaWRlQ2xvc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hpZGVDbG9zZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHBvTGFuZ3VhZ2VTZXJ2aWNlOiBQb0xhbmd1YWdlU2VydmljZSkge1xuICAgIHRoaXMubGFuZ3VhZ2UgPSBwb0xhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCk7XG5cbiAgICB0aGlzLmxpdGVyYWxzID0ge1xuICAgICAgLi4ucG9Nb2RhbExpdGVyYWxzW3RoaXMubGFuZ3VhZ2VdXG4gICAgfTtcbiAgfVxuXG4gIC8qKiBGdW7Dp8OjbyBwYXJhIGZlY2hhciBhIG1vZGFsLiAqL1xuICBjbG9zZSh4Q2xvc2VkID0gZmFsc2UpOiB2b2lkIHtcbiAgICB0aGlzLmlzSGlkZGVuID0gdHJ1ZTtcbiAgICBpZiAoeENsb3NlZCkge1xuICAgICAgdGhpcy5vblhDbG9zZWQuZW1pdCh4Q2xvc2VkKTtcbiAgICB9XG4gIH1cblxuICAvKiogRnVuw6fDo28gcGFyYSBhYnJpciBhIG1vZGFsLiAqL1xuICBvcGVuKCk6IHZvaWQge1xuICAgIHRoaXMudmFsaWRQcmltYXJ5QWN0aW9uKCk7XG5cbiAgICB0aGlzLmlzSGlkZGVuID0gZmFsc2U7XG4gIH1cblxuICB2YWxpZFByaW1hcnlBY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLnByaW1hcnlBY3Rpb24pIHtcbiAgICAgIHRoaXMucHJpbWFyeUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNsb3NlKCksXG4gICAgICAgIGxhYmVsOiB0aGlzLmxpdGVyYWxzLmNsb3NlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wcmltYXJ5QWN0aW9uWydhY3Rpb24nXSkge1xuICAgICAgdGhpcy5wcmltYXJ5QWN0aW9uWydhY3Rpb24nXSA9ICgpID0+IHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnByaW1hcnlBY3Rpb25bJ2xhYmVsJ10pIHtcbiAgICAgIHRoaXMucHJpbWFyeUFjdGlvblsnbGFiZWwnXSA9IHRoaXMubGl0ZXJhbHMuY2xvc2U7XG4gICAgfVxuICB9XG59XG4iXX0=