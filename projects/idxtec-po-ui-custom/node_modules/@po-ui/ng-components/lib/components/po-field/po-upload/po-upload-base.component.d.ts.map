{"version":3,"file":"po-upload-base.component.d.ts","sources":["po-upload-base.component.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA","sourcesContent":["import { AbstractControl, ControlValueAccessor, Validator } from '@angular/forms';\nimport { EventEmitter } from '@angular/core';\nimport { PoUploadFile } from './po-upload-file';\nimport { PoUploadFileRestrictions } from './interfaces/po-upload-file-restriction.interface';\nimport { PoUploadLiterals } from './interfaces/po-upload-literals.interface';\nimport { PoUploadService } from './po-upload.service';\nimport { PoLanguageService } from '../../../services/po-language/po-language.service';\nexport declare const poUploadLiteralsDefault: {\n    en: PoUploadLiterals;\n    es: PoUploadLiterals;\n    pt: PoUploadLiterals;\n    ru: PoUploadLiterals;\n};\n/**\n * @description\n *\n * O componente `po-upload` permite que o usuário envie arquivo(s) ao servidor e acompanhe o progresso.\n * Este componente também possibilita algumas configurações como:\n *  – Envio de diretórios, onde ele acessa o diretório selecionado assim como seus sub-diretórios;\n *  - Múltipla seleção, onde o usuário pode enviar mais de um arquivo ao servidor.\n *  - Auto envio, onde o arquivo é enviado imediatamente após a seleção do usuário, não necessitando que o usuário\n * clique em enviar.\n *  - Restrições de formatos de arquivo e tamanho.\n *  - Função de sucesso que será disparada quando os arquivos forem enviados com sucesso.\n *  - Função de erro que será disparada quando houver erro no envio dos arquivos.\n *  - Permite habilitar uma área onde os arquivos podem ser arrastados.\n */\nexport declare abstract class PoUploadBaseComponent implements ControlValueAccessor, Validator {\n    protected uploadService: PoUploadService;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Aplica foco no elemento ao ser iniciado.\n     *\n     * > Caso mais de um elemento seja configurado com essa propriedade, apenas o último elemento declarado com ela terá o foco.\n     *\n     * @default `false`\n     */\n    autoFocus: boolean;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Define em *pixels* a altura da área onde podem ser arrastados os arquivos. A altura mínima aceita é `160px`.\n     *\n     * > Esta propriedade funciona somente se a propriedade `p-drag-drop` estiver habilitada.\n     *\n     * @default `320`\n     */\n    dragDropHeight: number;\n    /** Rótulo do campo. */\n    label?: string;\n    /** Texto de apoio para o campo. */\n    help?: string;\n    /** URL que deve ser feita a requisição com os arquivos selecionados. */\n    url: string;\n    /** Define o valor do atributo `name` do componente. */\n    name: string;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Define se o envio do arquivo será automático ao selecionar o mesmo.\n     *\n     * @default `false`\n     */\n    autoUpload?: boolean;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Define se a indicação de campo opcional será exibida.\n     *\n     * > Não será exibida a indicação se:\n     *  - O campo conter `p-required`;\n     *  - Não possuir `p-help` e/ou `p-label`.\n     *\n     * @default `false`\n     */\n    optional: boolean;\n    /** Objeto que contém os cabeçalhos que será enviado na requisição dos arquvios. */\n    headers: {\n        [name: string]: string | Array<string>;\n    };\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Função que será executada no momento de realizar o envio do arquivo,\n     * onde será possível adicionar informações ao parâmetro que será enviado na requisição.\n     * É passado por parâmetro um objeto com o arquivo e a propiedade data nesta propriedade pode ser informado algum dado,\n     * que será enviado em conjunto com o arquivo na requisição, por exemplo:\n     *\n     * ```\n     *   event.data = {id: 'id do usuario'};\n     * ```\n     */\n    onUpload: EventEmitter<any>;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Evento será disparado quando ocorrer algum erro no envio do arquivo.\n     * > Por parâmetro será passado o objeto do retorno que é do tipo `HttpErrorResponse`.\n     */\n    onError: EventEmitter<any>;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Evento será disparado quando o envio do arquivo for realizado com sucesso.\n     * > Por parâmetro será passado o objeto do retorno que é do tipo `HttpResponse`.\n     */\n    onSuccess: EventEmitter<any>;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Função para atualizar o ngModel do componente, necessário quando não for utilizado dentro da *tag* `form`.\n     */\n    ngModelChange: EventEmitter<any>;\n    allowedExtensions: string;\n    currentFiles: Array<PoUploadFile>;\n    canHandleDirectory: boolean;\n    onModelChange: any;\n    protected extensionNotAllowed: number;\n    protected quantityNotAllowed: number;\n    protected sizeNotAllowed: number;\n    protected onModelTouched: any;\n    private _directory?;\n    private _disabled?;\n    private _dragDrop?;\n    private _fileRestrictions?;\n    private _formField?;\n    private _hideRestrictionsInfo?;\n    private _hideSelectButton?;\n    private _hideSendButton?;\n    private _isMultiple?;\n    private _literals?;\n    private _required?;\n    private language;\n    private validatorChange;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Permite a seleção de diretórios contendo um ou mais arquivos para envio.\n     *\n     * > A habilitação desta propriedade se restringe apenas à seleção de diretórios.\n     *\n     * > Definição não suportada pelo browser **Internet Explorer**, todavia será possível a seleção de arquivos padrão.\n     *\n     * @default `false`\n     */\n    set directory(value: boolean);\n    get directory(): boolean;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Exibe a área onde é possível arrastar e selecionar os arquivos. Quando estiver definida, omite o botão para seleção de arquivos\n     * automaticamente.\n     *\n     * > Recomendamos utilizar apenas um `po-upload` com esta funcionalidade por tela.\n     *\n     * @default `false`\n     */\n    set dragDrop(value: boolean);\n    get dragDrop(): boolean;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Oculta visualmente as informações de restrições para o upload.\n     *\n     * @default `false`\n     */\n    set hideRestrictionsInfo(value: boolean);\n    get hideRestrictionsInfo(): boolean;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Omite o botão de seleção de arquivos.\n     *\n     * > Caso o valor definido seja `true`, caberá ao desenvolvedor a responsabilidade\n     * pela chamada do método `selectFiles()` para seleção de arquivos.\n     *\n     * @default `false`\n     */\n    set hideSelectButton(value: boolean);\n    get hideSelectButton(): boolean;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Omite o botão de envio de arquivos.\n     *\n     * > Caso o valor definido seja `true`, caberá ao desenvolvedor a responsabilidade\n     * pela chamada do método `sendFiles()` para envio do(s) arquivo(s) selecionado(s).\n     *\n     * @default `false`\n     */\n    set hideSendButton(value: boolean);\n    get hideSendButton(): boolean;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Objeto com as literais usadas no `po-upload`.\n     *\n     * Existem duas maneiras de customizar o componente:\n     *\n     * - passando um objeto implementando a interface `PoUploadLiterals` com todas as literais disponíveis;\n     * - passando apenas as literais que deseja customizar:\n     * ```\n     *  const customLiterals: PoUploadLiterals = {\n     *    folders: 'Pastas',\n     *    selectFile: 'Buscar arquivo',\n     *    startSending: 'Enviar'\n     *  };\n     * ```\n     *\n     * E para carregar as literais customizadas, basta apenas passar o objeto para o componente:\n     *\n     * ```\n     * <po-upload\n     *   [p-literals]=\"customLiterals\">\n     * </po-upload>\n     * ```\n     *\n     * > O objeto padrão de literais será traduzido de acordo com o idioma do *browser* (pt, en, es, ru).\n     */\n    set literals(value: PoUploadLiterals);\n    get literals(): PoUploadLiterals;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Objeto que segue a definição da interface `PoUploadFileRestrictions`,\n     * que possibilita definir tamanho máximo/mínimo e extensão dos arquivos permitidos.\n     */\n    set fileRestrictions(restrictions: PoUploadFileRestrictions);\n    get fileRestrictions(): PoUploadFileRestrictions;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Nome do campo de formulário que será enviado para o serviço informado na propriedade `p-url`.\n     *\n     * @default `files`\n     */\n    set formField(value: string);\n    get formField(): string;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Indica que o campo será desabilitado.\n     */\n    set disabled(value: boolean);\n    get disabled(): boolean;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Define se pode selecionar mais de um arquivo.\n     *\n     * > Se utilizada a `p-directory`, habilita-se automaticamente esta propriedade.\n     */\n    set isMultiple(value: boolean);\n    get isMultiple(): boolean;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Indica que o campo será obrigatório.\n     *\n     * @default `false`\n     */\n    set required(required: boolean);\n    get required(): boolean;\n    constructor(uploadService: PoUploadService, languageService: PoLanguageService);\n    setDisabledState(isDisabled: boolean): void;\n    registerOnChange(fn: any): void;\n    registerOnTouched(fn: any): void;\n    registerOnValidatorChange(fn: () => void): void;\n    validate(abstractControl: AbstractControl): {\n        [key: string]: any;\n    };\n    writeValue(model: any): void;\n    protected isExceededFileLimit(currentFilesLength: number): boolean;\n    protected parseFiles(files: Array<File>): Array<PoUploadFile>;\n    protected validateModel(model: any): void;\n    private checkRestrictions;\n    private existsFileSameName;\n    private getUploadService;\n    private insertFileInFiles;\n    private isAllowedExtension;\n    private setAllowedExtensions;\n    private initRestrictions;\n    private updateExistsFileInFiles;\n    abstract sendFeedback(): void;\n    abstract setDirectoryAttribute(value: boolean): any;\n}\n"]}